<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"ajsoabk.xyz","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="我在我心的孤寂里，听见你的叹息了">
<meta property="og:type" content="website">
<meta property="og:title" content="归因">
<meta property="og:url" content="http://ajsoabk.xyz/index.html">
<meta property="og:site_name" content="归因">
<meta property="og:description" content="我在我心的孤寂里，听见你的叹息了">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Ajsoabk">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://ajsoabk.xyz/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>归因</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">归因</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://ajsoabk.xyz/2021/11/01/golang%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ajsoabk">
      <meta itemprop="description" content="我在我心的孤寂里，听见你的叹息了">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="归因">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/11/01/golang%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/" class="post-title-link" itemprop="url">golang语法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-11-01 19:01:42" itemprop="dateCreated datePublished" datetime="2021-11-01T19:01:42+08:00">2021-11-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-11-04 10:59:18" itemprop="dateModified" datetime="2021-11-04T10:59:18+08:00">2021-11-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h1><h2 id="代码规则"><a href="#代码规则" class="headerlink" title="代码规则"></a>代码规则</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main<span class="comment">//文件必须声明包名</span></span><br><span class="line"><span class="keyword">import</span> （</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">）</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> stockcode = <span class="number">123</span><span class="comment">//结尾不需要分号</span></span><br><span class="line">    <span class="keyword">var</span> enddate = <span class="string">&quot;2020-12-31&quot;</span></span><br><span class="line">    <span class="keyword">var</span> url = <span class="string">&quot;Code = %d&amp;endData = %s&quot;</span></span><br><span class="line">    <span class="keyword">var</span> target_url = fmt.Sprintf(url, stockcode, enddate)<span class="comment">//类似C语言的sprintf</span></span><br><span class="line">    fmt.Println(target_url)</span><br><span class="line">    <span class="comment">//标识符以大写字母开头意味着该对象对包外可见(public)，否则则对包外不可见</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="基本类型"><a href="#基本类型" class="headerlink" title="基本类型"></a>基本类型</h2><p><code>uint</code>,<code>uint8</code>,<code>uint16</code>,<code>uint32</code>,<code>uint64</code>,<code>int</code>,<code>int8</code>,<code>int16</code>,<code>int32</code>,<code>int64</code>,<code>float32</code>,<code>float64</code>,<code>complex64</code>（32位实数和虚数）,<code>complex128</code>（64位实数和虚数）,<code>uintptr</code>(用于存放指针)</p>
<h3 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明:"></a>变量声明:</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x, y <span class="keyword">int</span><span class="comment">//如果变量没有初始化，则默认为零值</span></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    a <span class="keyword">int</span></span><br><span class="line">    b <span class="keyword">bool</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">var</span> c, d <span class="keyword">int</span> = <span class="number">1</span>, <span class="number">2</span><span class="comment">//可以并行赋值</span></span><br><span class="line"><span class="keyword">var</span> e, f ,_= <span class="number">123</span>, <span class="string">&quot;hello&quot;</span>, <span class="string">&quot;discarded&quot;</span><span class="comment">//可以是不同类型，还可以用空白标识符_来抛弃值</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    g, h := <span class="number">123</span>, <span class="string">&quot;hello&quot;</span><span class="comment">//用:=初始化语句的用法只能在函数体中出现</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> binarynum <span class="keyword">int</span> = <span class="number">0</span>b1100<span class="comment">//二进制数字</span></span><br><span class="line"><span class="keyword">var</span> eightnum <span class="keyword">int</span> = <span class="number">0</span>o14<span class="comment">//八进制</span></span><br><span class="line"><span class="keyword">var</span> hexnum <span class="keyword">int</span> = <span class="number">0xc</span><span class="comment">//十六进制</span></span><br></pre></td></tr></table></figure>

<h3 id="浮点型"><a href="#浮点型" class="headerlink" title="浮点型"></a>浮点型</h3><p><code>float32</code>，即单精度，一位符号位，八位指数位，23位尾数位</p>
<p><code>float64</code>，即双精度，一位符号位，十一位指数位，52位尾数位</p>
<p>精度主要取决于尾数位数，$$ 2^{-23} \approx 1.19*10^{-7}$$，因此float只能精确到后面6位，有效数字为7位</p>
<p>而$$2^{-52}\approx 2.22*10^{-16}$$，因此精确到小数点后15位，有效位数为16位</p>
<ul>
<li><code>math.MaxFloat32</code>和<code>math.MaxFloat64</code>分别大约是3.4e38和1.8e308</li>
<li><code>float32</code>和<code>float64</code>能表示的最小值分别是1.4e-45和4.9e-325</li>
</ul>
<h3 id="byte与rune"><a href="#byte与rune" class="headerlink" title="byte与rune"></a>byte与rune</h3><p><code>byte</code>占用一个字节，与<code>uint8</code>类型本质上没有区别</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a <span class="keyword">byte</span> = <span class="number">65</span></span><br><span class="line"><span class="keyword">var</span> b <span class="keyword">byte</span> = <span class="string">&#x27;\101&#x27;</span><span class="comment">//\是八进制前缀</span></span><br><span class="line"><span class="keyword">var</span> c <span class="keyword">byte</span> = <span class="string">&#x27;\x41&#x27;</span><span class="comment">//\x是十六进制前缀</span></span><br></pre></td></tr></table></figure>

<p><code>rune</code>，占用四个字节，和int32本质上也没有区别，表示一个Unicode字符</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name <span class="keyword">rune</span> = <span class="string">&#x27;中&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="string"><a href="#string" class="headerlink" title="string"></a>string</h3><p>Go语言的<code>string</code>是用utf-8编码的，英文字母占用一个字节，而中文字母占用3个字节</p>
<p>可以使用双引号或反引号包裹字符串，反引号包裹的字符串会忽略转义</p>
<p>可以用fmt的<code>%q</code>来将原生型字符串还原成解释型字符串</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mystr0 <span class="keyword">string</span> = <span class="string">`\r\n`</span> \\原生型</span><br><span class="line"><span class="keyword">var</span> mystr2 <span class="keyword">string</span> = <span class="string">&quot;\\r\\n&quot;</span>\\解释型</span><br><span class="line">fmt.Printf(<span class="string">&quot;%v 的解释型字符串是: %q&quot;</span>,mystr01)</span><br></pre></td></tr></table></figure>



<h3 id="匿名变量"><a href="#匿名变量" class="headerlink" title="匿名变量"></a>匿名变量</h3><p>又称占位符，或者空白标识符，用下划线表示，其有三个优点</p>
<ul>
<li>不分配内存，不占用内存空间</li>
<li>不需要你为命名无用的变量名而纠结</li>
<li>多次声明不会有任何问题</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GetData</span><span class="params">()</span> <span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">100</span>, <span class="number">200</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    a, _ := GetData()</span><br><span class="line">    _, b := GetData()</span><br><span class="line">    fmt.Println(a,b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="new函数"><a href="#new函数" class="headerlink" title="new函数"></a>new函数</h3><p>用new创建变量和普通变量声明语句创建变量没有什么区别，除了不需要声明一个临时变量的名字外，我们还可以在表达式中使用new(Type)。</p>
<p>换言之，new函数类似是一种语法糖，而不是一个新的基础概念</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">newInt</span><span class="params">()</span> *<span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">new</span>(<span class="keyword">int</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//is equivilant to</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">newInt</span><span class="params">()</span> *<span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> dummy <span class="keyword">int</span></span><br><span class="line">    <span class="keyword">return</span> &amp;dummy</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="数组与切片"><a href="#数组与切片" class="headerlink" title="数组与切片"></a>数组与切片</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a [<span class="number">5</span>]<span class="keyword">int</span><span class="comment">//数组声明</span></span><br><span class="line">arr01 := [...] <span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">arr := [<span class="number">4</span>]<span class="keyword">int</span>&#123;<span class="number">2</span>:<span class="number">3</span>&#125;<span class="comment">//在下标为2处初始化为3</span></span><br></pre></td></tr></table></figure>

<p>切片是数组的抽象，其本身是引用类型。其包含容量、长度和指向底层数组的指针</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//依赖于数组的声明方式</span></span><br><span class="line">arr := [...]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">slice1 := arr[<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line">slice2 := arr[<span class="number">1</span>:<span class="number">3</span>:<span class="number">3</span>]<span class="comment">//第三个数影响切片容量，arr[a:b:c]的切片容量为c-a</span></span><br><span class="line"><span class="comment">//空切片声明</span></span><br><span class="line"><span class="keyword">var</span> strSlice []<span class="keyword">string</span></span><br><span class="line">intSlice := []<span class="keyword">int</span>&#123;&#125;</span><br><span class="line"><span class="comment">//使用make函数构造，make([]Type, size, cap)，第三个参数可选</span></span><br><span class="line">numbers := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">5</span>,<span class="number">10</span>)<span class="comment">//声明初始长度为5，容量为10的切片</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">slice := []<span class="keyword">int</span>&#123;<span class="number">1</span>&#125;</span><br><span class="line">slice = <span class="built_in">append</span>(slice, <span class="number">2</span>)<span class="comment">//追加一个元素</span></span><br><span class="line">slice = <span class="built_in">append</span>(slice, <span class="number">3</span>, <span class="number">4</span>)<span class="comment">//追加多个元素</span></span><br><span class="line">slice = <span class="built_in">append</span>(slice, []<span class="keyword">int</span>&#123;<span class="number">7</span>, <span class="number">8</span>&#125;...)<span class="comment">//追加一个切片，其中...表示解包</span></span><br><span class="line">slice = <span class="built_in">append</span>([]<span class="keyword">int</span>&#123;<span class="number">0</span>&#125;,myarr...)<span class="comment">//在第一个位置插入一个切片</span></span><br><span class="line">slice = <span class="built_in">append</span>(myarr[:<span class="number">5</span>],<span class="built_in">append</span>([]<span class="keyword">int</span>&#123;<span class="number">5</span>,<span class="number">6</span>&#125;, myarr[<span class="number">5</span>:]...)...)<span class="comment">//在中间插入一个切片</span></span><br><span class="line">fmt.Println(slice)</span><br></pre></td></tr></table></figure>

<p>切片的子切片：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">number2 := []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">slice1 := number2[<span class="number">2</span>:]</span><br><span class="line">fmt.Println(slice1)<span class="comment">// -&gt;[3 4]</span></span><br><span class="line">slice2 := number2[:<span class="number">3</span>]</span><br><span class="line">fmt.Println(slice2)<span class="comment">// -&gt;[1 2 3]</span></span><br><span class="line">slice3 := number2[<span class="number">1</span>:<span class="number">4</span>]</span><br><span class="line">fmt.Println(slice3)<span class="comment">// -&gt;[2 3 4]</span></span><br></pre></td></tr></table></figure>

<h3 id="const与iota"><a href="#const与iota" class="headerlink" title="const与iota"></a>const与iota</h3><p>在定义常量组时，如果不提供初始值，则表示将使用上行的表达式</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//iota 只是在同一个 const 常量组内递增，每当有新的 const 关键字时，iota 计数会重新开始</span></span><br><span class="line">    <span class="keyword">const</span> (</span><br><span class="line">        a = <span class="literal">iota</span> <span class="comment">//0</span></span><br><span class="line">        b		<span class="comment">//1</span></span><br><span class="line">        c		<span class="comment">//2</span></span><br><span class="line">        d = <span class="string">&quot;ha&quot;</span> <span class="comment">//&quot;ha&quot;</span></span><br><span class="line">        e		<span class="comment">//&quot;ha&quot;</span></span><br><span class="line">        f = <span class="number">100</span>  <span class="comment">//100</span></span><br><span class="line">        g		<span class="comment">//100</span></span><br><span class="line">        h = <span class="literal">iota</span> <span class="comment">//7</span></span><br><span class="line">        i 		<span class="comment">//8</span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="类型别名"><a href="#类型别名" class="headerlink" title="类型别名"></a>类型别名</h3><p>使用<code>type</code>可以定义一个类型字面量</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> arr3 [<span class="number">3</span>]<span class="keyword">int</span></span><br></pre></td></tr></table></figure>



<h3 id="Chan类型"><a href="#Chan类型" class="headerlink" title="Chan类型"></a>Chan类型</h3><p>在<code>go</code>后加一个函数，就可以创建一个线程，函数可以为已定义的，也可以是匿名的</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;main start&quot;</span>)</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span>&#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;goroutine&quot;</span>)<span class="comment">//由于Go语言的线程是并发机制，所以这行实际来不及执行</span></span><br><span class="line">    &#125;()</span><br><span class="line">    fmt.Println(<span class="string">&quot;main end&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">main start</span></span><br><span class="line"><span class="comment">main end</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>让线程执行的方法:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;time&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;main start&quot;</span>)</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span>&#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;goroutine&quot;</span>)</span><br><span class="line">    &#125;()</span><br><span class="line">    time.Sleep(<span class="number">1</span>*time.Second)</span><br><span class="line">    fmt.Println(<span class="string">&quot;main end&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">main start</span></span><br><span class="line"><span class="comment">goroutine</span></span><br><span class="line"><span class="comment">main end</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>



<p><code>Chan</code>可以理解为队列，通过<code>Chan</code>，并发核心单元可以发送或者接收数据进行通讯，它的操作符是<code>&lt;-</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ch1 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">string</span>)<span class="comment">//声明不带缓冲的通道，进和出都会阻塞</span></span><br><span class="line">ch2 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">string</span>, <span class="number">10</span>)<span class="comment">//声明缓冲区大小为10的通道，当长度等于10时，再进就会阻塞</span></span><br><span class="line">ch3 := <span class="built_in">make</span>(&lt;-<span class="keyword">chan</span> <span class="keyword">string</span>)<span class="comment">//声明只读通道</span></span><br><span class="line">ch4 := <span class="built_in">make</span>(<span class="keyword">chan</span>&lt;- <span class="keyword">string</span>)<span class="comment">//声明只写通道</span></span><br><span class="line">ch2 &lt;- <span class="string">&quot;a&quot;</span><span class="comment">//写入chan</span></span><br><span class="line">val, ok := &lt;- ch2</span><br><span class="line"><span class="comment">//or</span></span><br><span class="line">val := &lt;- ch2<span class="comment">//读取chan</span></span><br><span class="line"><span class="built_in">close</span>(ch2)<span class="comment">//关闭chan</span></span><br><span class="line"><span class="comment">//注意只读的chan不能close</span></span><br><span class="line"><span class="comment">//close以后还可以读取，但不能再写入</span></span><br></pre></td></tr></table></figure>

<p>从无缓存的 channel 中读取消息会阻塞，直到有 goroutine 向该 channel 中发送消息；</p>
<p>同理，向无缓存的 channel 中发送消息也会阻塞，直到有 goroutine 从 channel 中读取消息。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;main start&quot;</span>)</span><br><span class="line">    ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">string</span>)</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span>&#123;</span><br><span class="line">        ch &lt;- <span class="string">&quot;a&quot;</span></span><br><span class="line">    &#125;()</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span>&#123;</span><br><span class="line">        ele &lt;- ch</span><br><span class="line">        fmt.Println(ele)</span><br><span class="line">    &#125;()</span><br><span class="line">    time.Sleep(<span class="number">1</span>* time.Second)</span><br><span class="line">    fmt.Println(<span class="string">&quot;main end&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用range遍历</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">10</span>)</span><br><span class="line"><span class="keyword">for</span> x := <span class="keyword">range</span> ch&#123;<span class="comment">//一直从ch中读取数据直到该ch被close</span></span><br><span class="line">    fmt.Println(x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="map类型"><a href="#map类型" class="headerlink" title="map类型"></a>map类型</h3><p>map是哈希表的一个实现，这就要求它的每个映射里的key都是唯一的，可以使用<code>==</code>和<code>!=</code>来进行判等操作，换句话说key必须是可哈希的</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> scores <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span><span class="comment">//纯声明，此时scores的值为nil，无法赋值</span></span><br><span class="line">scores1 := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>&#123;<span class="string">&quot;english&quot;</span>: <span class="number">80</span>, <span class="string">&quot;chinese&quot;</span>: <span class="number">85</span>&#125;</span><br><span class="line">scores2 := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>)</span><br><span class="line">scores2[<span class="string">&quot;english&quot;</span>] = <span class="number">80</span><span class="comment">//添加元素</span></span><br><span class="line">scores2[<span class="string">&quot;chinese&quot;</span>] = <span class="number">85</span></span><br><span class="line">scores2[<span class="string">&quot;english&quot;</span>] = <span class="number">140</span><span class="comment">//更新元素</span></span><br><span class="line">fmt.Peintln(scores2[<span class="string">&quot;english&quot;</span>]) <span class="comment">//根据key读取value，如果key不存在则返回这个value的零值</span></span><br><span class="line"><span class="built_in">delete</span>(scores2, <span class="string">&quot;english&quot;</span>)<span class="comment">//根据key删除元素，如果key不存在则静默处理</span></span><br><span class="line">chinese, ok = scores2[<span class="string">&quot;chinese&quot;</span>]<span class="comment">//ok表示是否存在</span></span><br></pre></td></tr></table></figure>

<p>对字典进行循环</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">scores1 := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>&#123;<span class="string">&quot;english&quot;</span>: <span class="number">80</span>, <span class="string">&quot;chinese&quot;</span>: <span class="number">85</span>&#125;</span><br><span class="line"><span class="keyword">for</span> subject, score := <span class="keyword">range</span> scores1 &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> subject := <span class="keyword">range</span> scores1 &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> _, score := <span class="keyword">range</span> scores1 &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="布尔类型"><a href="#布尔类型" class="headerlink" title="布尔类型"></a>布尔类型</h3><p>在Go语言中，不同类型间无法比较，因而以下表达式是错误的</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//编译错误的表达式</span></span><br><span class="line"><span class="keyword">var</span> male <span class="keyword">bool</span> = <span class="literal">true</span></span><br><span class="line"><span class="keyword">if</span> male == <span class="number">1</span> &#123;<span class="comment">//不能将布尔类型与整数类型进行比较</span></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="控制流语句"><a href="#控制流语句" class="headerlink" title="控制流语句"></a>控制流语句</h2><h3 id="if-else"><a href="#if-else" class="headerlink" title="if-else"></a>if-else</h3><p>Go要求<code>else if</code> 或<code>else </code>两边的花括号必须在同一行，且要求条件表达式必须严格返回布尔类型的数据</p>
<p>在if 里可以允许先运行一个表达式，取得变量后，再对其进行判断</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> age := <span class="number">18</span>; age &gt;= <span class="number">18</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;已经成年了&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h3><p>switch从第一个判断表达式为true 的case开始执行，不需要break</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">switch</span> i := x.(<span class="keyword">type</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="literal">nil</span>:</span><br><span class="line">        fmt.Printf(<span class="string">&quot;The type of x is %T&quot;</span>,i)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">int</span>:</span><br><span class="line">        fmt.Printf(<span class="string">&quot;The type of x is int&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="function"><span class="keyword">func</span><span class="params">(<span class="keyword">int</span>)</span> <span class="title">float64</span>:</span></span><br><span class="line">        fmt.Printf(<span class="string">&quot;The type of x is func(int)&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">bool</span>, <span class="keyword">string</span>:<span class="comment">//多条件匹配</span></span><br><span class="line">        fmt.Printf(<span class="string">&quot;The type of x is bool or string&quot;</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        fmt.Printf(<span class="string">&quot;Unknown type&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//The type of x is &lt;nil&gt;</span></span><br></pre></td></tr></table></figure>

<p>需要强制执行下一条的时候可以使用fallthrough</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main </span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="literal">false</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;1&quot;</span>)</span><br><span class="line">        <span class="keyword">fallthrough</span></span><br><span class="line">    <span class="keyword">case</span> <span class="literal">true</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;2&quot;</span>)</span><br><span class="line">        <span class="keyword">fallthrough</span></span><br><span class="line">    <span class="keyword">case</span> <span class="literal">false</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;3&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment">*/</span> </span><br></pre></td></tr></table></figure>



<h3 id="for"><a href="#for" class="headerlink" title="for"></a>for</h3><p>for后面可以接的表达式有：</p>
<ul>
<li>条件表达式</li>
<li>三个表达式(init; condition; increment)</li>
<li>range 表达式 </li>
<li>不接表达式</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">i := <span class="number">0</span></span><br><span class="line">sum := <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i &lt; <span class="number">10</span> &#123;<span class="comment">//类似于C中的while</span></span><br><span class="line">    sum += <span class="number">1</span></span><br><span class="line">    i++</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sum := <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">    sum += i</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arr := [...]<span class="keyword">string</span>&#123;<span class="string">&quot;xiong&quot;</span>, <span class="string">&quot;fang&quot;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> _, item := <span class="keyword">range</span> arr &#123;<span class="comment">//range返回值为 index,item，在这里不需要index</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;hello, %s \n&quot;</span>,item)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="goto"><a href="#goto" class="headerlink" title="goto"></a>goto</h3><p>Go语言的goto语句与标签之间不能有变量声明，否则会编译错误</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//编译错误</span></span><br><span class="line"><span class="keyword">goto</span> flag</span><br><span class="line"><span class="keyword">var</span> say = <span class="string">&quot;This is wrong&quot;</span></span><br><span class="line">flag:</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="defer延时调用"><a href="#defer延时调用" class="headerlink" title="defer延时调用"></a>defer延时调用</h3><p>在<code>defer</code>后跟一个表达式，意味着在所处函数执行完之后再调用该表达式</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">myfunc</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;B&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">defer</span> myfunc()</span><br><span class="line">    fmt.Println(<span class="string">&quot;A&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>defer只是延时调用，变量已经传递过去了，且是反序调用，后进先出</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    name := <span class="string">&quot;go&quot;</span></span><br><span class="line">    <span class="keyword">defer</span> fmt.Println(name)</span><br><span class="line">    name = <span class="string">&quot;rust&quot;</span></span><br><span class="line">    <span class="keyword">defer</span> fmt.Println(name)</span><br><span class="line">    name = <span class="string">&quot;c++&quot;</span></span><br><span class="line">    fmt.Println(name)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">c++</span></span><br><span class="line"><span class="comment">rust</span></span><br><span class="line"><span class="comment">go</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>defer在return之后调用</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name <span class="keyword">string</span> = <span class="string">&quot;go&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">myfunc</span><span class="params">()</span> <span class="title">string</span></span>&#123;</span><br><span class="line">    <span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		name = <span class="string">&quot;python&quot;</span></span><br><span class="line">    &#125;()</span><br><span class="line">    fmt.Println(<span class="string">&quot;The name in myfunc is &quot;</span>, name)</span><br><span class="line">    <span class="keyword">return</span> name</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    myname := myfunc()</span><br><span class="line">    fmt.Println(<span class="string">&quot;The name in main is &quot;</span>, name)</span><br><span class="line">    fmt.Println(<span class="string">&quot;The myname in main is &quot;</span>, myname)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="select"><a href="#select" class="headerlink" title="select"></a>select</h3><p>select 的用法类似于IO多路复用，可以同时监听的多个channel的消息状态</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> &#123;</span><br><span class="line"><span class="keyword">case</span> &lt;- ch1:</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">case</span> &lt;- ch2:</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">case</span> ch3 &lt;- <span class="number">10</span>:</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>select 可以同时监听多个channel的写入或读取</li>
<li>执行select时，若只有一个case通过，则执行这个case块</li>
<li>若有多个case通过，则伪随机挑选一个case执行</li>
<li>若所有case都阻塞，且定义了default模块，则执行default模块。若无default模块则select语句阻塞</li>
<li>使用break会跳出select块</li>
</ul>
<p>设置超时时间：</p>
 <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ch := <span class="built_in">make</span>(chn <span class="keyword">struct</span> &#123;&#125;)</span><br><span class="line"><span class="comment">//finish task while send msg to ch</span></span><br><span class="line"><span class="keyword">go</span> doTask(ch)</span><br><span class="line">timeout := time.After(<span class="number">5</span> * time.Second)<span class="comment">//time.After返回一个5s后产生信号的管道</span></span><br><span class="line"><span class="keyword">select</span> &#123;</span><br><span class="line"><span class="keyword">case</span> &lt;- ch:</span><br><span class="line">    fmt.Println(<span class="string">&quot;task finished.&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> &lt;- timout:</span><br><span class="line">    fmt.Println(<span class="string">&quot;task timeout.&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>quite channel：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">msgCh := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">struct</span> &#123;&#125;)</span><br><span class="line">quitCh := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">struct</span> &#123;&#125;)</span><br><span class="line"><span class="keyword">for</span> &#123;</span><br><span class="line">    <span class="keyword">select</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> &lt;- msgCh:</span><br><span class="line">        doWork()</span><br><span class="line">    <span class="keyword">case</span> &lt;- quitCh:</span><br><span class="line">        finish()</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>函数可以返回多个值</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span> <span class="params">(a <span class="keyword">int</span>, b <span class="keyword">int</span>)</span> <span class="params">(<span class="keyword">int</span>,<span class="keyword">string</span>)</span></span>&#123;</span><br><span class="line">    c := a + b</span><br><span class="line">    <span class="keyword">return</span> c, <span class="string">&quot;successfully added&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><p>Go 的接口是一系列方法的集合。接口有助于将类型的属性组合在一起。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">type</span> animal <span class="keyword">interface</span> &#123;</span><br><span class="line">    description() <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> cat <span class="keyword">string</span>&#123;</span><br><span class="line">    Type <span class="keyword">string</span></span><br><span class="line">    Sound <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> snake <span class="keyword">struct</span> &#123;</span><br><span class="line">    Type <span class="keyword">string</span></span><br><span class="line">    Poisonous <span class="keyword">bool</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s snake)</span> <span class="title">description</span><span class="params">()</span> <span class="title">string</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> fmt.Sprintf(<span class="string">&quot;Poisonous: %v&quot;</span>,s.Poisonous)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c cat)</span> <span class="title">description</span><span class="params">()</span> <span class="title">string</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> fmt.Sprintf(<span class="string">&quot;Sound: %v&quot;</span>, c.Sound)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a animal<span class="comment">//创建animal接口类型的变量a</span></span><br><span class="line">    a = snake &#123;Poisonous: <span class="literal">true</span>&#125;</span><br><span class="line">    fmt.Println(a.description())<span class="comment">//=&gt; Poisonous: true</span></span><br><span class="line">    a = cat &#123;Sound: <span class="string">&quot;Meow!!!&quot;</span>&#125;</span><br><span class="line">    fmt.Println(a.descriptoin())<span class="comment">//=&gt; Sound: Meow!!!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h2><h3 id="panic函数"><a href="#panic函数" class="headerlink" title="panic函数"></a>panic函数</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">panic</span>(<span class="string">&quot;Some error here&quot;</span>)<span class="comment">//panic: Some error here</span></span><br></pre></td></tr></table></figure>

<h3 id="recover函数"><a href="#recover函数" class="headerlink" title="recover函数"></a>recover函数</h3><p>recover函数可以捕获异常，恢复程序或做收尾工作</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">set_data</span><span class="params">(x <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//recover()只能在defer域中才能生效</span></span><br><span class="line">        <span class="keyword">if</span> err := <span class="built_in">recover</span>(); err != <span class="literal">nil</span> &#123;</span><br><span class="line">            fmt.Println(err)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;()</span><br><span class="line">    <span class="keyword">var</span> arr [<span class="number">10</span>]<span class="keyword">int</span></span><br><span class="line">    arr[x] = <span class="number">88</span><span class="comment">//故意制造数组越界</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    set_data(<span class="number">20</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;everything is ok&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*output</span></span><br><span class="line"><span class="comment">runtime error: index out of range [20] with length 10</span></span><br><span class="line"><span class="comment">everything is ok</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h1 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h1><h2 id="struct-结构"><a href="#struct-结构" class="headerlink" title="struct 结构"></a>struct 结构</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Profile <span class="keyword">struct</span> &#123;</span><br><span class="line">    name, gender <span class="keyword">string</span><span class="comment">//相同类型的字段可以合并</span></span><br><span class="line">    age <span class="keyword">int</span></span><br><span class="line">    mother, father *Profile</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(person Profile)</span> <span class="title">FmtProfile</span><span class="params">()</span></span>&#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;name: &quot;</span>,person.name)</span><br><span class="line">    fmt.Println(<span class="string">&quot;age: &quot;</span>,person.age)</span><br><span class="line">    fmt.Println(<span class="string">&quot;gender: &quot;</span>,person.gender)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    xf := Profile&#123;name: <span class="string">&quot;熊昉&quot;</span>&#125;<span class="comment">//未被赋值的字段会自动赋为零值</span></span><br><span class="line">    xf.gender = <span class="string">&quot;male&quot;</span></span><br><span class="line">    xf.age = <span class="number">18</span></span><br><span class="line">    xf.FmtProfile()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>改变对象的方法</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(person *Profile)</span> <span class="title">increase_age</span><span class="params">()</span></span> &#123;</span><br><span class="line">    person.age += <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="用组合的方式实现继承"><a href="#用组合的方式实现继承" class="headerlink" title="用组合的方式实现继承"></a>用组合的方式实现继承</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> company <span class="keyword">struct</span> &#123;</span><br><span class="line">    companyName <span class="keyword">string</span></span><br><span class="line">    companyAddr <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> staff <span class="keyword">struct</span> &#123;</span><br><span class="line">    name <span class="keyword">string</span></span><br><span class="line">    age <span class="keyword">int</span></span><br><span class="line">    gender <span class="keyword">string</span></span><br><span class="line">    company<span class="comment">//匿名字段</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="接口-1"><a href="#接口-1" class="headerlink" title="接口"></a>接口</h2><p>接口指定了一个类型应该具有的方法，并由该类型决定如何实现这些方法</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Nokia <span class="keyword">struct</span> &#123;</span><br><span class="line">    name <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> Phone <span class="keyword">interface</span> &#123;</span><br><span class="line">    call()</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(phone Nokia )</span> <span class="title">call</span><span class="params">()</span></span>&#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;I&#x27;m a phone called Nokia&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="空接口"><a href="#空接口" class="headerlink" title="空接口"></a>空接口</h3><p>普通的接口都有方法，而空接口没有定义任何方法，因此我们可以说所有类型都至少实现了空接口</p>
<p>对于空接口，其值和类型都是<code>nil</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">fmt.Println(<span class="string">&quot;type: %T, value: %v&quot;</span>,i,i)<span class="comment">//type: &lt;nil&gt;, value: &lt;nil&gt;</span></span><br></pre></td></tr></table></figure>

<p>不能把空接口类型的对象赋值给一个固定类型，也不能对空接口类型的对象切片</p>
<p>当使用空接口来接收任意类型的参数时，它的静态类型是<code>interface&#123;&#125;</code>，但动态类型我们并不知道，因此需要使用类型断言 </p>
<h3 id="类型断言"><a href="#类型断言" class="headerlink" title="类型断言"></a>类型断言</h3><p>类型断言可以</p>
<ul>
<li>检查<code>i</code>是否为<code>nil</code></li>
<li>检查<code>i</code>存储的值是否为某个类型</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i <span class="keyword">interface</span>&#123;&#125; = <span class="number">10</span></span><br><span class="line">t1, ok := i.(<span class="keyword">int</span>)</span><br><span class="line">fmt.Println(t1, <span class="string">&quot;-&quot;</span>, ok)<span class="comment">//10-true</span></span><br><span class="line">t2, ok := i.(<span class="keyword">string</span>)</span><br><span class="line">fmt.Println(t2, <span class="string">&quot;-&quot;</span>, ok)<span class="comment">//-false</span></span><br></pre></td></tr></table></figure>

<h3 id="Type-Switch"><a href="#Type-Switch" class="headerlink" title="Type Switch"></a>Type Switch</h3><p>在需要区分多种类型的时候，用<code>type switch</code>断言会更简单高效</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findType</span><span class="params">(i <span class="keyword">interface</span>&#123;&#125;)</span></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> x := i.(<span class="keyword">type</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">int</span>:</span><br><span class="line">        fmt.Println(x, <span class="string">&quot;is int&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">string</span>:</span><br><span class="line">        fmt.Println(x, <span class="string">&quot;is string&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="literal">nil</span>:</span><br><span class="line">        fmt.Println(x, <span class="string">&quot;is nil&quot;</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        fmt.Println(x <span class="string">&quot;not type matched&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>类型断言仅能对静态类型为空接口（<code>interface&#123;&#125;</code>）的对象进行断言</p>
<p>断言完成后，实际上会返回静态类型为你断言的类型的对象，而原有的静态类型仍是空接口类型</p>
<h3 id="接口实现多态"><a href="#接口实现多态" class="headerlink" title="接口实现多态"></a>接口实现多态</h3><p>一个接口在不同对象上的不同表现就是多态</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Good <span class="keyword">interface</span> &#123;</span><br><span class="line">    settleAccount() <span class="keyword">int</span></span><br><span class="line">    orderInfo() <span class="keyword">string</span></span><br><span class="line">&#125;<span class="comment">//定义接口</span></span><br><span class="line"><span class="keyword">type</span> Phone <span class="keyword">struct</span> &#123;</span><br><span class="line">    name <span class="keyword">string</span></span><br><span class="line">    quantity <span class="keyword">int</span></span><br><span class="line">    price <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> FreeGift <span class="keyword">struct</span> &#123;</span><br><span class="line">    name <span class="keyword">string</span></span><br><span class="line">    quantity <span class="keyword">int</span></span><br><span class="line">    price <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(phone Phone)</span><span class="title">settleAccount</span><span class="params">()</span> <span class="title">int</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> phtone.quantity * phtone.price</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(phone Phone)</span> <span class="title">orderInfo</span><span class="params">()</span> <span class="title">string</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;你要购买&quot;</span> + strconv.Itoa(phone.quantity) + <span class="string">&quot;个&quot;</span> + phone.name + <span class="string">&quot;计:&quot;</span> + </span><br><span class="line">    strconv.Itoa(phone.settleAccount()) + <span class="string">&quot;元&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(gift FreeGift)</span> <span class="title">settleAccount</span><span class="params">()</span> <span class="title">int</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(gift FreeGift)</span> <span class="title">orderinfo</span><span class="params">()</span> <span class="title">string</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;你要购买&quot;</span> + strconv.Itoa(gift.quantity) + <span class="string">&quot;个&quot;</span> + gift.name + <span class="string">&quot;计:&quot;</span> + </span><br><span class="line">    strconv.Itoa(gift.settleAccount()) + <span class="string">&quot;元&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//实现了这两个方法后，这两个类型在Go语言看来就都是商品类型了</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">calculateAllPrice</span><span class="params">(goods []Good)</span> <span class="title">int</span></span>&#123;</span><br><span class="line">     <span class="keyword">var</span> allPrice <span class="keyword">int</span></span><br><span class="line">    <span class="keyword">for</span> _,good := <span class="keyword">range</span> goods&#123;</span><br><span class="line">        fmt.Println(good.orderInfo())</span><br><span class="line">        allPrice += good.settleAcccount()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> allPrice</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Tag"><a href="#Tag" class="headerlink" title="Tag"></a>Tag</h2><p>Tag 可以用来增强结构体的定义，Tag会带上一些元信息，不管转义字符串还是原始字符串都可以用来当Tag</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> T <span class="keyword">struct</span> &#123;</span><br><span class="line">    f1		<span class="keyword">string</span> 	<span class="string">&quot; f one&quot;</span></span><br><span class="line">    f2 		<span class="keyword">string</span></span><br><span class="line">    f3 		<span class="keyword">string</span> 	<span class="string">`f three`</span></span><br><span class="line">    f4,f5	<span class="keyword">int64</span>	<span class="string">`f four and five`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Tags可以由键值对组成，通过使用这样的格式可以使用<code>LookUp</code>函数获取键值对的值</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> T2 <span class="keyword">struct</span> &#123;</span><br><span class="line">    f <span class="keyword">string</span> <span class="string">`one:&quot;1&quot; two:&quot;2&quot; blank: &quot;&quot;`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Tag获取方式"><a href="#Tag获取方式" class="headerlink" title="Tag获取方式"></a>Tag获取方式</h3><p>需引入<code>reflect</code>包，通过<code>TypeOf</code>函数绑定类型，通过<code>FieldByName</code>函数获取对应字段的field</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">t := reflect.TypeOf(T&#123;&#125;)</span><br><span class="line">f1, _ := t.FieldByName(<span class="string">&quot;f1&quot;</span>)</span><br><span class="line">fmt.Println(f1.Tag)<span class="comment">//f one</span></span><br><span class="line">f4, _ := t.FieldByName(<span class="string">&quot;f4&quot;</span>)</span><br><span class="line">fmt.Println(f4.Tag)<span class="comment">//f four and five</span></span><br><span class="line">f5, _ := t.FieldByName(<span class="string">&quot;f5&quot;</span>)</span><br><span class="line">fmt.Println(f5.Tag)<span class="comment">//f four and five</span></span><br></pre></td></tr></table></figure>

<p>使用<code>Lookup</code>方法</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">t := reflect.TypeOf(T2&#123;&#125;)</span><br><span class="line">f, _ := t.FieldByName(<span class="string">&quot;f&quot;</span>)</span><br><span class="line">fmt.Println(f.Tag)<span class="comment">//one:&quot;1&quot; two:&quot;2&quot; blank: &quot;&quot;</span></span><br><span class="line">v, ok := f.Tag.Lookup(<span class="string">&quot;one&quot;</span>)</span><br><span class="line">fmt.Println(<span class="string">&quot;%s, %t&quot;</span>, v, ok)</span><br></pre></td></tr></table></figure>

<p><code>Get</code>方法只是简单的包装了<code>Lookup</code>，但是丢弃了是否成功的结果</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(tag StructTag)</span> <span class="title">Get</span><span class="params">(key <span class="keyword">string</span>)</span> <span class="title">string</span></span>&#123;</span><br><span class="line">    v, _ := tag.Lookup(key)</span><br><span class="line">    <span class="keyword">return</span> v</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="进阶语法"><a href="#进阶语法" class="headerlink" title="进阶语法"></a>进阶语法</h1><h2 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h2><p>先看维基百科上的定义</p>
<blockquote>
<p>在计算机科学中，反射是指计算机程序在运行时可以访问、检测和修改它本身状态或行为的一种能力。</p>
</blockquote>
<p>Go语言圣经：</p>
<blockquote>
<p>Go 语言提供了一种机制在运行时更新变量和检查它们的值、调用它们的方法，但是在编译时并不知道这些变量的具体类型，这称为反射机制</p>
</blockquote>
<h3 id="reflect-Value类型和reflect-Type类型"><a href="#reflect-Value类型和reflect-Type类型" class="headerlink" title="reflect.Value类型和reflect.Type类型"></a>reflect.Value类型和reflect.Type类型</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x <span class="keyword">float64</span> = <span class="number">3.4</span></span><br><span class="line">fmt.Println(<span class="string">&quot;type:&quot;</span>,reflect.TypeOf(x))<span class="comment">//type: float64</span></span><br><span class="line"><span class="comment">//在reflect.TypeOf的函数签名里包含一个空接口</span></span><br><span class="line">fmt.Println(<span class="string">&quot;value:&quot;</span>,reflect.ValueOf(x))<span class="comment">//value: 3.4</span></span><br></pre></td></tr></table></figure>

<h3 id="kind方法"><a href="#kind方法" class="headerlink" title="kind方法"></a>kind方法</h3><p><code>reflect.Value</code>和<code>reflect.Type</code>都有一个名为<code>Kind</code>的方法，它会返回一个常量，表示<strong>底层数据的类型</strong></p>
<p><code>Value</code>类型也有一些类似于<code>Int</code>、<code>Float</code>的方法，用来提取底层的数据</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x <span class="keyword">float64</span> = <span class="number">3.4</span></span><br><span class="line">v := reflect.ValueOf(x)</span><br><span class="line">fmt.Println(<span class="string">&quot;type:&quot;</span>, v.Type())</span><br><span class="line">fmt.Println(<span class="string">&quot;kind is float64:&quot;</span>, v.Kind() == reflect.Float64)</span><br><span class="line">fmt.Println(<span class="string">&quot;value:&quot;</span>, v.Float())</span><br></pre></td></tr></table></figure>

<h3 id="Interface方法"><a href="#Interface方法" class="headerlink" title="Interface方法"></a>Interface方法</h3><p>可以根据一个<code>reflect.Value</code>类型的变量恢复其接口类型的值，事实上，这个方法会把type和value信息打包并填充到一个接口变量中，然后返回</p>
<p>其函数声明如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(v Value)</span> <span class="title">Interface</span><span class="params">()</span> <span class="title">interface</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="CanSet方法"><a href="#CanSet方法" class="headerlink" title="CanSet方法"></a>CanSet方法</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x <span class="keyword">float64</span> = <span class="number">34</span></span><br><span class="line">v := reflect.ValueOf(x)<span class="comment">//传递的是x的拷贝，而非x本身</span></span><br><span class="line">fmt.Println(<span class="string">&quot;settability of v:&quot;</span>, v.CanSet())<span class="comment">//settability of v: false</span></span><br></pre></td></tr></table></figure>

<p>传递指针则可写</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x <span class="keyword">float64</span> = <span class="number">3.4</span></span><br><span class="line">p := reflect.ValueOf(&amp;x)</span><br><span class="line">v := p.Elem()</span><br><span class="line">fmt.Println(<span class="string">&quot;settability of v:&quot;</span>, v.CanSet())<span class="comment">//settability of v: true</span></span><br><span class="line">v.SetFloat(<span class="number">7.1</span>)</span><br><span class="line">fmt.Println(v.Interface())<span class="comment">//7.1</span></span><br><span class="line">fmt.Println(x)<span class="comment">//7.1</span></span><br></pre></td></tr></table></figure>



<h2 id="json包"><a href="#json包" class="headerlink" title="json包"></a>json包</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;encoding/json&quot;</span></span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    mapA := <span class="keyword">map</span>[<span class="keyword">string</span>] <span class="keyword">int</span>&#123;<span class="string">&quot;apple&quot;</span>: <span class="number">5</span>, <span class="string">&quot;lettuce&quot;</span> :<span class="number">7</span>&#125;</span><br><span class="line">    mapB,_:=json.Marshal(mapA)<span class="comment">//编码</span></span><br><span class="line">    fmt.Println(<span class="keyword">string</span>(mapB))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;encoding/json&quot;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">type</span> response <span class="keyword">struct</span>&#123;</span><br><span class="line">    PageNumber <span class="keyword">int</span> <span class="string">`json:&quot;page&quot;`</span></span><br><span class="line">    </span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://ajsoabk.xyz/2021/10/29/rust%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ajsoabk">
      <meta itemprop="description" content="我在我心的孤寂里，听见你的叹息了">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="归因">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/10/29/rust%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/" class="post-title-link" itemprop="url">rust基本语法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-10-29 11:08:02" itemprop="dateCreated datePublished" datetime="2021-10-29T11:08:02+08:00">2021-10-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-10-31 13:48:03" itemprop="dateModified" datetime="2021-10-31T13:48:03+08:00">2021-10-31</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>除<code>byte</code>外的所有数字字面值允许使用类型后缀，如<code>57u8</code></p>
<p>在debug模式中，整形溢出会导致程序<code>panic</code>。而release模式中，则会进行回环（<code>Wrapping</code>）</p>
<p>如果确实需要整形溢出，可以使用<code>Wrapping</code>类型</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> max = Wrapping(<span class="built_in">i32</span>::MAX);<span class="comment">//用标准库的Wrapping&lt;T&gt;结构体包装基本数据类型的数字</span></span><br><span class="line"><span class="comment">//或者直接调用.wrapping_***(...)成员方法来完成算术运算</span></span><br><span class="line"><span class="built_in">assert_eq!</span>(<span class="built_in">i32</span>::MAX.wrapping_add(<span class="number">2</span>), <span class="built_in">i32</span>::MIN+<span class="number">1</span>);</span><br></pre></td></tr></table></figure>



<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">123_4</span>; <span class="comment">//整数中可以出现下划线</span></span><br><span class="line"><span class="keyword">let</span> tup:(<span class="built_in">i32</span>,<span class="built_in">f64</span>,<span class="built_in">u8</span>) = (<span class="number">500</span>,<span class="number">6.4</span>,<span class="number">1</span>);<span class="comment">//元组可以包含不同种类的数据</span></span><br><span class="line"><span class="comment">//tup.0等于500。。。</span></span><br><span class="line"><span class="keyword">let</span> (x,y,z) = tup;<span class="comment">//解构元组</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];<span class="comment">//数组包含同类型数据</span></span><br><span class="line"><span class="keyword">let</span> a: [<span class="built_in">i32</span>;<span class="number">5</span>] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];<span class="comment">//[元素类型;元素数量]</span></span><br><span class="line"><span class="comment">//当索引超出了下标范围时会发生一个运行时错误</span></span><br></pre></td></tr></table></figure>

<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><p>str是Rust核心语言类型，常常以引用的形式出现（&amp;str）</p>
<p>凡是用双引号包括的字符串常量的类型都是&amp;str</p>
<p>String 则有更完善的功能</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">String</span>::from(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> s2 = &amp;s1[..];<span class="comment">//从String类型转为&amp;str类型</span></span><br></pre></td></tr></table></figure>

<p>可以用<code>+</code>号运算符进行简单的拼接</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">String</span>::from(<span class="string">&quot;Hello,&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> s2 = <span class="built_in">String</span>::from(<span class="string">&quot;world!&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> s3 = s1 + &amp;s2;<span class="comment">//s1 在此之后不可用</span></span><br></pre></td></tr></table></figure>

<p><code>+</code>运算符使用了<code>add</code>函数，这个函数签名看起来像这样</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">add</span></span>(<span class="keyword">self</span>, s: &amp;<span class="built_in">str</span>) -&gt; <span class="built_in">String</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>之所以能在<code>add</code>调用中使用<code>&amp;s2</code>是因为<code>&amp;String</code>可以被强制转换成<code>&amp;str</code></p>
<p>对于更为复杂的字符串链接，可以使用<code>format!</code>宏：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">String</span>::from(<span class="string">&quot;tic&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> s2 = <span class="built_in">String</span>::from(<span class="string">&quot;tac&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> s3 = <span class="built_in">String</span>::from(<span class="string">&quot;toe&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> s = <span class="built_in">format!</span>(<span class="string">&quot;&#123;&#125;-&#123;&#125;-&#123;&#125;&quot;</span>,s1,s2,s3);</span><br><span class="line"><span class="comment">//format!与println!的工作原理相同，不同之处是其返回一个带有结果内容的String</span></span><br></pre></td></tr></table></figure>

<p>使用<code>parse</code>或turbo fish语法实现从字符串到其他类型的转换：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//只要目标类型实现了FromStr特性</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;</span><br><span class="line">    <span class="keyword">let</span> parsed: <span class="built_in">i32</span> = <span class="string">&quot;5&quot;</span>.parse().unwrap();</span><br><span class="line">    <span class="keyword">let</span> turbo_parsed = <span class="string">&quot;10&quot;</span>.parse::&lt;<span class="built_in">i32</span>&gt;().unwrap();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> sum = parsed + turbo_parsed;</span><br><span class="line">    <span class="built_in">println!</span>&#123;<span class="string">&quot;Sum: &#123;:?&#125;&quot;</span>,sum&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="内部表现"><a href="#内部表现" class="headerlink" title="内部表现"></a>内部表现</h3><p><code>String</code>是一个<code>Vec&lt;u8&gt;</code>的封装，而Unicode是使用两个字节表示一个字，因此<code>String</code>不支持下标访问</p>
<h3 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h3><p>元组常用于非定义的多值传递，而结构体用于定义对象规范，结构体的每个成员叫做“字段”</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//一个结构体定义</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Site</span></span>&#123;</span><br><span class="line">    domain: <span class="built_in">String</span>,</span><br><span class="line">    name: <span class="built_in">String</span>,</span><br><span class="line">    nation: <span class="built_in">String</span>,</span><br><span class="line">    found: <span class="built_in">u32</span></span><br><span class="line">    <span class="comment">//每个字段定义后用&quot;,&quot;分隔</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//结构体实例</span></span><br><span class="line"><span class="keyword">let</span> mysite = Site&#123;</span><br><span class="line">    <span class="comment">//key: value 语法</span></span><br><span class="line">    domain: <span class="built_in">String</span>::from(<span class="string">&quot;ajsoabk.xyz&quot;</span>),</span><br><span class="line">    name: <span class="built_in">String</span>::from(<span class="string">&quot;Ajsoabk&quot;</span>),</span><br><span class="line">    nation: <span class="built_in">String</span>::from(<span class="string">&quot;China&quot;</span>),</span><br><span class="line">    found: <span class="number">2020</span></span><br><span class="line">&#125;;<span class="comment">//记得分号</span></span><br></pre></td></tr></table></figure>



<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> domain = <span class="built_in">String</span>(<span class="string">&quot;ajsoabk.xyz&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> name = <span class="built_in">String</span>(<span class="string">&quot;Ajsoabk&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> mysite = Site&#123;</span><br><span class="line">    domain,<span class="comment">//有同名变量时可以简化</span></span><br><span class="line">    name,<span class="comment">//等同于name: name</span></span><br><span class="line">    nation: <span class="built_in">String</span>:from(<span class="string">&quot;China&quot;</span>),</span><br><span class="line">    found: <span class="number">2020</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//结构体更新语法</span></span><br><span class="line"><span class="keyword">let</span> newsite = Site&#123;</span><br><span class="line">	domain: <span class="built_in">String</span>(<span class="string">&quot;www.ajsoabk.xyz&quot;</span>),</span><br><span class="line">    ..mysite</span><br><span class="line">&#125;;<span class="comment">//这种语法需要至少重新设定一个字段的值</span></span><br></pre></td></tr></table></figure>

<h4 id="元组结构体"><a href="#元组结构体" class="headerlink" title="元组结构体"></a>元组结构体</h4><p>形式是元组的结构体</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Color</span></span>(<span class="built_in">u8</span>,<span class="built_in">u8</span>,<span class="built_in">u8</span>);</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span></span>(<span class="built_in">f64</span>,<span class="built_in">f64</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> black = Color(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line"><span class="keyword">let</span> origin = Point(<span class="number">0.0</span>,<span class="number">0.0</span>);</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;black = (&#123;&#125;,&#123;&#125;,&#123;&#125;)&quot;</span>,black.<span class="number">0</span>,black.<span class="number">1</span>,black.<span class="number">2</span>);</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;origin = (&#123;&#125;,&#123;&#125;)&quot;</span>,origin.<span class="number">0</span>,origin.<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<h4 id="输出结构体"><a href="#输出结构体" class="headerlink" title="输出结构体"></a>输出结构体</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#[derive(Debug)]</span><span class="comment">//导入调试库</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Rectangle</span></span>&#123;</span><br><span class="line">    width: <span class="built_in">u32</span>,</span><br><span class="line">    height: <span class="built_in">u32</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;</span><br><span class="line">	<span class="keyword">let</span> rect1= Rectangle&#123;width:<span class="number">30</span>,height:<span class="number">50</span>&#125;;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;rect1 is &#123;:?&#125;&quot;</span>,rect1);<span class="comment">//使用&#123;:?&#125;占位符输出结构体</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;rect1 is &#123;:#?&#125;&quot;</span>,rect1):<span class="comment">//使用&#123;:#?&#125;占位符分行输出结构体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="结构体方法"><a href="#结构体方法" class="headerlink" title="结构体方法"></a>结构体方法</h4> <figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Rectangle</span></span>&#123;</span><br><span class="line">	width: <span class="built_in">u32</span>,</span><br><span class="line">    height:<span class="number">32</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">impl</span> Rectangle&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">area</span></span>(&amp;<span class="keyword">self</span>) -&gt; <span class="built_in">u32</span>&#123;<span class="comment">//结构体方法的第一个参数必须是&amp;self,不需要声明类型</span></span><br><span class="line">        <span class="keyword">self</span>.width * <span class="keyword">self</span>.height</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;</span><br><span class="line">    <span class="keyword">let</span> ret1 = Rectangle &#123;width : <span class="number">30</span>,height: <span class="number">50</span>&#125;;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;rect1&#x27;s area is &#123;&#125;&quot;</span>,rect1.area());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="结构体关联函数"><a href="#结构体关联函数" class="headerlink" title="结构体关联函数"></a>结构体关联函数</h4><p>结构体关联函数与结构体方法的区别是结构体关联函数在impl块中却没有&amp;self 参数</p>
<p>这种函数不依赖实例，但却需要声明是在哪个impl块中</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#[derive(Debug)]</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Rectangle</span></span>&#123;</span><br><span class="line">    width: <span class="built_in">u32</span>,</span><br><span class="line">    height: <span class="built_in">u32</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">impl</span> Rectangle&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">create</span></span>(width: <span class="built_in">u32</span>,height: <span class="built_in">u32</span>) -&gt; Rectangle&#123;</span><br><span class="line">        Rectanlge&#123;width,height&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;</span><br><span class="line"><span class="keyword">let</span> rect = Rectangle::create(<span class="number">30</span>,<span class="number">50</span>);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>,rect);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>impl块可以写多次，相当于将其拼接</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//对于非枚举类，需要设置缺省情况</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;</span><br><span class="line">    <span class="keyword">let</span> t = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">    <span class="keyword">match</span> t &#123;</span><br><span class="line">        <span class="string">&quot;abc&quot;</span> =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Yes&quot;</span>),</span><br><span class="line">        _ =&gt; &#123;&#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Option、Result与kind"><a href="#Option、Result与kind" class="headerlink" title="Option、Result与kind"></a>Option、Result与kind</h3><p>Option类包含None及Some，用于可能有空值的情况</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">check_division</span></span>(dividend: <span class="built_in">i32</span>,divisor: <span class="built_in">i32</span>) -&gt; <span class="built_in">Option</span>&lt;<span class="built_in">i32</span>&gt;&#123;</span><br><span class="line">    <span class="keyword">if</span> divisor == <span class="number">0</span>&#123;</span><br><span class="line">        <span class="literal">None</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="literal">Some</span>(dividend / divisor)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">try_division</span></span>(dividend: <span class="built_in">i32</span>,divisor: <span class="built_in">i32</span>)&#123;</span><br><span class="line">    <span class="keyword">match</span> checked_division(dividend,divisor)&#123;</span><br><span class="line">        <span class="literal">None</span> =&gt; <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125; / &#123;&#125; failed!&quot;</span>,dividend,divisor);</span><br><span class="line">        <span class="literal">Some</span>(quotient) =&gt; &#123;</span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125; / &#123;&#125; = &#123;&#125;&quot;</span>,dividend, divisor, quotient)</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;</span><br><span class="line">    try_division(<span class="number">4</span>,<span class="number">2</span>);</span><br><span class="line">    try_division(<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Result类则可以包含相关错误信息，还有专门的<code>?</code>操作符</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">f</span></span>(i: <span class="built_in">i32</span>) -&gt; <span class="built_in">Result</span>&lt;<span class="built_in">i32</span>, <span class="built_in">bool</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> i &gt;= <span class="number">0</span> &#123; <span class="literal">Ok</span>(i) &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123; <span class="literal">Err</span>(<span class="literal">false</span>) &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">g</span></span>(i: <span class="built_in">i32</span>) -&gt; <span class="built_in">Result</span>&lt;<span class="built_in">i32</span>, <span class="built_in">bool</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> t = f(i)?;<span class="comment">//在Result出现异常的时候直接返回异常</span></span><br><span class="line">    <span class="literal">Ok</span>(t)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;</span><br><span class="line">    <span class="keyword">let</span> r = g(<span class="number">10000</span>);</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> <span class="literal">Ok</span>(v) = r&#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;Ok: g(10000) = &#123;&#125;&quot;</span>, v);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;Err&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Result类还有kind方法可以确定错误类型</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::io;</span><br><span class="line"><span class="keyword">use</span> std::io::Read;</span><br><span class="line"><span class="keyword">use</span> std::fs::File;</span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">read_text_from_file</span></span>(path: &amp;<span class="built_in">str</span>) -&gt; <span class="built_in">Result</span>&lt;<span class="built_in">String</span>, io::Error&gt;&#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> f = File::open(path)?;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> s = <span class="built_in">String</span>::new();</span><br><span class="line">    f.read_to_string(&amp;<span class="keyword">mut</span> s)?;</span><br><span class="line">    <span class="literal">Ok</span>(s)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;</span><br><span class="line">    <span class="keyword">let</span> str_file = read_text_from_file(<span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line">    <span class="keyword">match</span> str_file&#123;</span><br><span class="line">        <span class="literal">Ok</span>(s) =&gt; prinln!(<span class="string">&quot;&#123;&#125;&quot;</span>,s);</span><br><span class="line">        <span class="literal">Err</span>(e) =&gt; &#123;</span><br><span class="line">            <span class="keyword">match</span> e.kind()&#123;<span class="comment">//根据错误类型进行相应处理</span></span><br><span class="line">                io::ErrorKind::NotFound =&gt; &#123;</span><br><span class="line">                    <span class="built_in">println!</span>(<span class="string">&quot;No such file&quot;</span>);</span><br><span class="line">                &#125;,</span><br><span class="line">                _ =&gt; &#123;</span><br><span class="line">                    <span class="built_in">println!</span>(<span class="string">&quot;Cannot read the file&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="vector"><a href="#vector" class="headerlink" title="vector"></a>vector</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> v= <span class="built_in">vec!</span>[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];<span class="comment">//用vec!宏进行初始化</span></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut</span> v:<span class="built_in">Vec</span>&lt;<span class="built_in">i32</span>&gt; = <span class="built_in">Vec</span>::new();<span class="comment">//新建vector变量</span></span><br><span class="line">v.push(<span class="number">5</span>)</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;The third element is &#123;&#125;&quot;</span>,v[<span class="number">0</span>]);<span class="comment">//访问下标为0的位置上的元素，若超出则会崩溃</span></span><br><span class="line"><span class="comment">//或者使用get方法，可以自己选择超出后的处理方法</span></span><br><span class="line"><span class="keyword">match</span> v.get(<span class="number">2</span>) &#123;</span><br><span class="line">    <span class="literal">Some</span>(i) =&gt; <span class="built_in">println!</span>(<span class="string">&quot;The third element is &#123;&#125;&quot;</span>,i),</span><br><span class="line">    <span class="literal">None</span> =&gt; <span class="built_in">println!</span>(<span class="string">&quot;There is no third element.&quot;</span>),,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="控制流语句（if，while，for，loop，if-let，-match）"><a href="#控制流语句（if，while，for，loop，if-let，-match）" class="headerlink" title="控制流语句（if，while，for，loop，if let， match）"></a>控制流语句（if，while，for，loop，if let， match）</h2><h3 id="lf-else-作为表达式"><a href="#lf-else-作为表达式" class="headerlink" title="lf-else 作为表达式"></a>lf-else 作为表达式</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">4</span>;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;the max num in &#123;&#125; and &#123;&#125; is &#123;&#125;&quot;</span>,a,b,<span class="keyword">if</span> a &gt; b &#123;a&#125; <span class="keyword">else</span> &#123;b&#125;);</span><br></pre></td></tr></table></figure>



<h3 id="使用loop查找"><a href="#使用loop查找" class="headerlink" title="使用loop查找"></a>使用loop查找</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">let s = [&#x27;X&#x27;,&#x27;i&#x27;,&#x27;o&#x27;,&#x27;n&#x27;,&#x27;g&#x27;,&#x27;F&#x27;,&#x27;a&#x27;,&#x27;n&#x27;,&#x27;g&#x27;];</span><br><span class="line">let mut i = 0;</span><br><span class="line">let location = loop &#123;</span><br><span class="line">  	if(s[i] == &#x27;F&#x27;)&#123;</span><br><span class="line">        break i</span><br><span class="line">    &#125;</span><br><span class="line">    i += 1;</span><br><span class="line">&#125;;</span><br><span class="line">println!(&quot;The location of \&#x27;F\&#x27; is &#123;&#125;&quot;,location);</span><br></pre></td></tr></table></figure>

<h3 id="match-和if-let"><a href="#match-和if-let" class="headerlink" title="match 和if let"></a>match 和if let</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">plus_one</span></span>(x: <span class="built_in">Option</span>&lt;<span class="built_in">i32</span>&gt;) -&gt; <span class="built_in">Option</span>&lt;<span class="built_in">i32</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">match</span> x &#123;</span><br><span class="line">        <span class="literal">None</span> =&gt; <span class="literal">None</span>,</span><br><span class="line">        <span class="literal">Some</span>(i) =&gt; <span class="literal">Some</span>(i + <span class="number">1</span>),<span class="comment">//匹配的同时绑定i</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>匹配必须穷尽</strong></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> some_u8_value = <span class="literal">Some</span>(<span class="number">0u8</span>);</span><br><span class="line"><span class="keyword">match</span> some_u8_value &#123;</span><br><span class="line">	<span class="literal">Some</span>(<span class="number">1</span>) =&gt; <span class="built_in">println!</span>(<span class="string">&quot;one&quot;</span>),</span><br><span class="line">    _ =&gt; (),<span class="comment">//所有剩余情况的匹配</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以使用<code>if let </code>来进行匹配且无需穷尽</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">plus_one</span></span>(x:<span class="built_in">Option</span>&lt;<span class="built_in">i32</span>&gt;) -&gt; <span class="built_in">Option</span>&lt;<span class="built_in">i32</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> <span class="literal">Some</span>(i) = x &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">Some</span>(i+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="literal">None</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="所有权机制"><a href="#所有权机制" class="headerlink" title="所有权机制"></a>所有权机制</h2><ul>
<li>Rust中的每个值都有一个变量，称为其所有者</li>
<li>一次只能有一个所有者</li>
<li>当所有者不在程序运行范围内时，该值将被删除</li>
</ul>
<h3 id="移动"><a href="#移动" class="headerlink" title="移动"></a>移动</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">let</span> y = x;</span><br><span class="line"><span class="comment">//此时栈中有两个值5，因为int是基本数据类型，基本数据类型具有Copy特性</span></span><br><span class="line"><span class="comment">//Copy特性保证其对象在被赋值给其他对象后仍然可用</span></span><br></pre></td></tr></table></figure>

<p>整型、布尔类型、浮点型、字符类型和仅包含以上类型的元组是基本数据类型</p>
<p>但如果发生交互的数据在堆中就是另外一种情况</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">String</span>::from(<span class="string">&quot;Hello&quot;</span>);<span class="comment">//&quot;Hello&quot;可以认为是类似于长度不确定的数据，需要在堆中存储</span></span><br><span class="line"><span class="keyword">let</span> s2 = s1;<span class="comment">//由于两者都指向堆中变量，因此为了防止两次释放，s1被赋值给s2后，s1已经无效了</span></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125; World!&quot;</span>,s1); <span class="comment">//错误！s1已经失效</span></span><br></pre></td></tr></table></figure>

<h3 id="克隆"><a href="#克隆" class="headerlink" title="克隆"></a>克隆</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">String</span>::from(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> s2 = s1.clone();</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;s1 = &#123;&#125;, s2 = &#123;&#125;&quot;</span>,s1,s2);</span><br></pre></td></tr></table></figure>

<h3 id="涉及函数的所有权机制"><a href="#涉及函数的所有权机制" class="headerlink" title="涉及函数的所有权机制"></a>涉及函数的所有权机制</h3><p>如果讲变量当作参数传入函数，那么它和移动的效果是一样的</p>
<p>被当作函数返回值的变量所有权将会被移动出函数并返回到调用函数的地方，而不会直接被无效释放</p>
<h3 id="引用与租借"><a href="#引用与租借" class="headerlink" title="引用与租借"></a>引用与租借</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">String</span>::from(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> s2 = &amp;s1;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;s1 is &#123;&#125;, s2 is &#123;&#125;&quot;</span>,s1,s2);</span><br></pre></td></tr></table></figure>

<p>&amp;可以取变量的引用，引用并没有在栈中复制变量的值</p>
<p>引用不会获得值的所有权。引用只能租借值的所有权，引用本身也是一个类型并具有一个值，这个值记录的是别的值所在的位置，但引用不具有所指值的所有权</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//一段不正确的代码</span></span><br><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">String</span>::from(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> s2 = &amp;s1;</span><br><span class="line"><span class="keyword">let</span> s3 = s1;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>,s2);<span class="comment">//错误，所有权已经转给s3，s2需要重新从s3租借所有权</span></span><br></pre></td></tr></table></figure>



<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">String</span>::from(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut</span> s2 = &amp;s1;</span><br><span class="line"><span class="keyword">let</span> s3 = s1;</span><br><span class="line">s2 = &amp;s3;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>,s2);<span class="comment">//正确</span></span><br></pre></td></tr></table></figure>

<p>如果尝试利用租借来的权力来修改数据会被阻止</p>
<h3 id="可变引用"><a href="#可变引用" class="headerlink" title="可变引用"></a>可变引用</h3><p>可以使用可变引用来修改数据</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut</span> s1 = <span class="built_in">String</span>::from(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> s2 = &amp;<span class="keyword">mut</span> s1;</span><br><span class="line">s2.push_str(<span class="string">&quot; World!&quot;</span>);</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>,s2);</span><br></pre></td></tr></table></figure>

<p>可变引用不允许多重引用(不管是可变还是非可变）</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//一段不正确的代码</span></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut</span> s = <span class="built_in">String</span>::from(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> r1 = &amp;<span class="keyword">mut</span> s;</span><br><span class="line"><span class="keyword">let</span> r2 = &amp;<span class="keyword">mut</span> s;<span class="comment">//错误，可变引用不允许多重引用</span></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;,&#123;&#125;&quot;</span>,r1,r2);</span><br></pre></td></tr></table></figure>

<p>主要是为了防止在并发状态下发生数据访问碰撞</p>
<h3 id="错误的悬垂引用"><a href="#错误的悬垂引用" class="headerlink" title="错误的悬垂引用"></a>错误的悬垂引用</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;</span><br><span class="line">	<span class="keyword">let</span> reference_to_nothing = dangle();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">dangle</span></span>() -&gt; &amp;<span class="built_in">String</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> s =<span class="built_in">String</span>::from(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">    &amp;s<span class="comment">//此时s已经被释放，但s的引用却被返回，这个引用所指向的值已经不存在</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>编译器会发现这种错误</p>
<h2 id="Rust-组织管理"><a href="#Rust-组织管理" class="headerlink" title="Rust 组织管理"></a>Rust 组织管理</h2><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mod</span> nation&#123;</span><br><span class="line">	<span class="keyword">pub</span> <span class="keyword">mod</span> government&#123;</span><br><span class="line">        <span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">govern</span></span>()&#123;&#125;<span class="comment">//pub公开路径</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">mod</span> congress&#123;</span><br><span class="line">        <span class="keyword">pub</span> <span class="function"><span class="keyword">fn</span> <span class="title">legislate</span></span>()&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">mod</span> court&#123;</span><br><span class="line">        <span class="function"><span class="keyword">fn</span> <span class="title">judicial</span></span>()&#123;</span><br><span class="line">            super::congress::legislate();<span class="comment">//super进入上一级</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">pub</span> <span class="keyword">use</span> congress::legislate;<span class="comment">//pub use使外部代码也能直接使用新路径</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">use</span> nation::&#123;government::govern,legislate&#125;;<span class="comment">//嵌套路径</span></span><br><span class="line"><span class="keyword">use</span> std::io::&#123;<span class="keyword">self</span>, Write&#125;;<span class="comment">//可用self指定自身</span></span><br><span class="line"><span class="keyword">use</span> std::collections::*;<span class="comment">//用*指定所有公有项</span></span><br></pre></td></tr></table></figure>

<h2 id="Rust泛型与特性"><a href="#Rust泛型与特性" class="headerlink" title="Rust泛型与特性"></a>Rust泛型与特性</h2> <figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span></span>&lt;T,U&gt; &#123;</span><br><span class="line">    x:T,</span><br><span class="line">    y:U,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">impl</span>&lt;T,U&gt; Point&lt;T,U&gt; &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">mixup</span></span>&lt;V,W&gt;(<span class="keyword">self</span>,other: Point&lt;V,W&gt;) -&gt; Point&lt;T,W&gt;&#123;</span><br><span class="line">        Point&#123;</span><br><span class="line">            x: <span class="keyword">self</span>.x,</span><br><span class="line">            y: other.y,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>一个类可以实现多个特性，每个impl块只能怪为一个类实现一个特性</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Comparable</span></span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">compare</span></span>(&amp;<span class="keyword">self</span>, object: &amp;<span class="keyword">Self</span>) -&gt; <span class="built_in">i8</span>;<span class="comment">//描述Comparable特性</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">max</span></span>&lt;T: Comparable&gt; (array: &amp;[T]) -&gt; &amp;T &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> max_index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> i&lt; array.len() &#123;</span><br><span class="line">        <span class="keyword">if</span> array[i].compare(&amp;array[max_index]) &gt; <span class="number">0</span>&#123;</span><br><span class="line">            max_index = i;</span><br><span class="line">        &#125;</span><br><span class="line">        i += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    &amp;array[max_index]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">impl</span> Comparable <span class="keyword">for</span> <span class="built_in">f64</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">compare</span></span>(&amp;<span class="keyword">self</span>, object: &amp;<span class="built_in">f64</span>) -&gt; <span class="built_in">i8</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> &amp;<span class="keyword">self</span> &gt; &amp;object &#123;<span class="number">1</span>&#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> &amp;<span class="keyword">self</span> == &amp;object &#123;<span class="number">0</span>&#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;-<span class="number">1</span>&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;</span><br><span class="line">    <span class="keyword">let</span> arr = [<span class="number">1.0</span>,<span class="number">3.0</span>,<span class="number">5.0</span>,<span class="number">4.0</span>,<span class="number">2.0</span>];</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;maximum of arra is &#123;&#125;&quot;</span>,max(&amp;arr));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="默认特性"><a href="#默认特性" class="headerlink" title="默认特性"></a>默认特性</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Descriptive</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">describe</span></span>(&amp;<span class="keyword">self</span>) -&gt; <span class="built_in">String</span> &#123;</span><br><span class="line">        <span class="built_in">String</span>::from(<span class="string">&quot;[Object]&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span></span> &#123;</span><br><span class="line">    name: <span class="built_in">String</span>,</span><br><span class="line">    age: <span class="built_in">u8</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">impl</span> Descriptive <span class="keyword">for</span> Person&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">describe</span></span>(&amp;<span class="keyword">self</span>) -&gt; <span class="built_in">String</span> &#123;</span><br><span class="line">        <span class="built_in">format!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125;&quot;</span>,<span class="keyword">self</span>.name,<span class="keyword">self</span>.age)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>()&#123;</span><br><span class="line">    <span class="keyword">let</span> cali = Person&#123;</span><br><span class="line">        name: <span class="built_in">String</span>::from(<span class="string">&quot;Cali&quot;</span>),</span><br><span class="line">        age: <span class="number">24</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>,cali.describe());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://ajsoabk.xyz/2021/10/26/%E5%81%A5%E8%BA%AB%E7%9F%A5%E8%AF%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ajsoabk">
      <meta itemprop="description" content="我在我心的孤寂里，听见你的叹息了">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="归因">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/10/26/%E5%81%A5%E8%BA%AB%E7%9F%A5%E8%AF%86/" class="post-title-link" itemprop="url">健身知识</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-10-26 13:24:46" itemprop="dateCreated datePublished" datetime="2021-10-26T13:24:46+08:00">2021-10-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-10-29 23:22:48" itemprop="dateModified" datetime="2021-10-29T23:22:48+08:00">2021-10-29</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="所有动作都需要感受臀部发力！！！"><a href="#所有动作都需要感受臀部发力！！！" class="headerlink" title="所有动作都需要感受臀部发力！！！"></a>所有动作都需要感受臀部发力！！！</h3><table>
<thead>
<tr>
<th>动作</th>
<th>技巧</th>
<th>目的</th>
<th>肌群</th>
<th>进阶练习</th>
</tr>
</thead>
<tbody><tr>
<td><strong>平板直抬腿</strong></td>
<td>注意抬起加速<br />注意保持直腿及上身稳定</td>
<td>提高爆发力，加快大腿抓地速度</td>
<td>臀大肌及大腿后侧肌群</td>
<td>双腿离地</td>
</tr>
<tr>
<td><strong>行进箭步蹲</strong></td>
<td>注意动作完成度及离心加速<br />注意上身直立及整体稳定<br />注意后腿膝盖不要用力磕地，点到为止</td>
<td>提高爆发力，训练抓地速度</td>
<td>臀大肌及股四头肌</td>
<td>负重</td>
</tr>
<tr>
<td><strong>平地提踵</strong></td>
<td>注意高抬慢放，脚后跟不要触地</td>
<td>提高踝关节稳定性及压脚掌动作的质量</td>
<td>腓肠肌等小腿肌群</td>
<td>负重、垫高前脚掌</td>
</tr>
<tr>
<td><strong>坐姿交替直抬腿</strong></td>
<td>注意顶峰收缩及高抬慢放</td>
<td>提高直腿稳定性及柔韧性</td>
<td>股四头肌，腹肌</td>
<td>双腿离地</td>
</tr>
<tr>
<td><strong>单脚提踵</strong></td>
<td>同平地提踵，尤其注意稳定性维持</td>
<td>针对性提高单脚脚掌力量</td>
<td>腓肠肌等小腿肌群</td>
<td>负重、垫高前脚掌</td>
</tr>
<tr>
<td><strong>单脚侧蹲</strong></td>
<td>所抬脚不要触地，尤其注意稳定性维持</td>
<td>针对性提高单腿侧向稳定性</td>
<td>臀大肌、股四头肌等肌群</td>
<td>已经够难了</td>
</tr>
<tr>
<td><strong>靠墙静蹲</strong></td>
<td>注意上身贴墙，腿部大约成直角，手不要放在腿上防止给膝盖更大压力</td>
<td>提高腿部耐力，保护膝盖</td>
<td>大部分大腿肌群</td>
<td>加长时间</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://ajsoabk.xyz/2021/10/14/pta%E4%BB%A3%E7%A0%81%E6%9A%82%E5%AD%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ajsoabk">
      <meta itemprop="description" content="我在我心的孤寂里，听见你的叹息了">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="归因">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/10/14/pta%E4%BB%A3%E7%A0%81%E6%9A%82%E5%AD%98/" class="post-title-link" itemprop="url">pta代码暂存</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-10-14 00:06:03" itemprop="dateCreated datePublished" datetime="2021-10-14T00:06:03+08:00">2021-10-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-10-24 23:08:19" itemprop="dateModified" datetime="2021-10-24T23:08:19+08:00">2021-10-24</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">char</span> <span class="title">rightToLeft</span><span class="params">(<span class="keyword">char</span> ch)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ch==<span class="string">&#x27;)&#x27;</span>)<span class="keyword">return</span> <span class="string">&#x27;(&#x27;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(ch==<span class="string">&#x27;]&#x27;</span>)<span class="keyword">return</span> <span class="string">&#x27;[&#x27;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(ch==<span class="string">&#x27;&#125;&#x27;</span>)<span class="keyword">return</span> <span class="string">&#x27;&#123;&#x27;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">correspondingFlag</span><span class="params">(<span class="keyword">char</span> ch)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ch==<span class="string">&#x27;)&#x27;</span>||ch==<span class="string">&#x27;(&#x27;</span>)<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(ch==<span class="string">&#x27;[&#x27;</span>||ch==<span class="string">&#x27;]&#x27;</span>)<span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(ch==<span class="string">&#x27;&#123;&#x27;</span>||ch==<span class="string">&#x27;&#125;&#x27;</span>)<span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">55</span>];</span><br><span class="line">    <span class="keyword">char</span> sta[<span class="number">55</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> index[<span class="number">55</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> flag[<span class="number">4</span>]=&#123;<span class="number">0</span>&#125;;a</span><br><span class="line">    <span class="keyword">int</span> top=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,str);</span><br><span class="line">    <span class="keyword">int</span> len=<span class="built_in">strlen</span>(str);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(str[i]==<span class="string">&#x27;(&#x27;</span>||str[i]==<span class="string">&#x27;[&#x27;</span>||str[i]==<span class="string">&#x27;&#123;&#x27;</span>)&#123;<span class="comment">//左括号入栈</span></span><br><span class="line">            sta[++top]=str[i];</span><br><span class="line">            index[top]=i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(str[i]==<span class="string">&#x27;)&#x27;</span>||str[i]==<span class="string">&#x27;]&#x27;</span>||str[i]==<span class="string">&#x27;&#125;&#x27;</span>)&#123;<span class="comment">//右括号</span></span><br><span class="line">            <span class="keyword">if</span>(top==<span class="number">0</span>||sta[top]!=rightToLeft(str[i]))&#123;<span class="comment">//未匹配到对应左括号</span></span><br><span class="line">                sta[++top]=str[i];</span><br><span class="line">                index[top]=i;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;<span class="comment">//匹配到对应左括号</span></span><br><span class="line">                top--;<span class="comment">//栈顶弹出</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(;top&gt;<span class="number">0</span>;top--)&#123;</span><br><span class="line">        flag[correspondingFlag(sta[top])]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag[<span class="number">1</span>]||flag[<span class="number">2</span>]||flag[<span class="number">3</span>])&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;<span class="number">4</span>;++i)&#123;</span><br><span class="line">            <span class="keyword">while</span>(flag[i]--)<span class="built_in">printf</span>(<span class="string">&quot;%d,&quot;</span>,i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;ctype.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Stack</span>&#123;</span></span><br><span class="line">    <span class="keyword">char</span> element[<span class="number">1000</span>];</span><br><span class="line">    <span class="keyword">int</span> cnt;</span><br><span class="line">&#125;postfix,tem;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(struct Stack *sta,<span class="keyword">char</span> ch)</span></span>&#123;</span><br><span class="line">    sta-&gt;element[++sta-&gt;cnt]=ch;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="built_in">_Bool</span> <span class="title">isempty</span><span class="params">(struct Stack sta)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sta.cnt==<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">char</span> <span class="title">pop</span><span class="params">(struct Stack *sta)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sta-&gt;element[sta-&gt;cnt--];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">char</span> <span class="title">top</span><span class="params">(struct Stack sta)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sta.element[sta.cnt];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="built_in">_Bool</span> <span class="title">higherthan</span><span class="params">(<span class="keyword">char</span> a,<span class="keyword">char</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (a==<span class="string">&#x27;*&#x27;</span>||a==<span class="string">&#x27;/&#x27;</span>)||(b==<span class="string">&#x27;+&#x27;</span>||b==<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">calculate</span><span class="params">(<span class="keyword">double</span> a,<span class="keyword">char</span> op,<span class="keyword">double</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(op==<span class="string">&#x27;*&#x27;</span>)<span class="keyword">return</span> a*b;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="string">&#x27;/&#x27;</span>)<span class="keyword">return</span> a/b;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="string">&#x27;+&#x27;</span>)<span class="keyword">return</span> a+b;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(op==<span class="string">&#x27;-&#x27;</span>)<span class="keyword">return</span> a-b;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">1000</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,str);</span><br><span class="line">    <span class="keyword">int</span> len=<span class="built_in">strlen</span>(str);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isdigit</span>(str[i]))&#123;</span><br><span class="line">            push(&amp;postfix,str[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(str[i]==<span class="string">&#x27;(&#x27;</span>)&#123;</span><br><span class="line">            push(&amp;tem,<span class="string">&#x27;(&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(str[i]==<span class="string">&#x27;)&#x27;</span>)&#123;</span><br><span class="line">            <span class="keyword">while</span>(isempty(tem)==<span class="number">0</span>&amp;&amp;top(tem)!=<span class="string">&#x27;(&#x27;</span>)&#123;</span><br><span class="line">                push(&amp;postfix,pop(&amp;tem));</span><br><span class="line">            &#125;</span><br><span class="line">            pop(&amp;tem);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">while</span>(isempty(tem)==<span class="number">0</span>&amp;&amp;top(tem)!=<span class="string">&#x27;(&#x27;</span>&amp;&amp;higherthan(top(tem),str[i]))&#123;</span><br><span class="line">                push(&amp;postfix,pop(&amp;tem));</span><br><span class="line">            &#125;</span><br><span class="line">            push(&amp;tem,str[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(isempty(tem)==<span class="number">0</span>)&#123;</span><br><span class="line">        push(&amp;postfix,pop(&amp;tem));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">double</span> sta[<span class="number">10000</span>];</span><br><span class="line">    <span class="keyword">int</span> top=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=postfix.cnt;++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isdigit</span>(postfix.element[i]))&#123;</span><br><span class="line">            sta[++top]=postfix.element[i]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">double</span> b=sta[top--];</span><br><span class="line">            <span class="keyword">double</span> a=sta[top--];</span><br><span class="line">            sta[++top]=calculate(a,postfix.element[i],b);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%.2f\n&quot;</span>,sta[top]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=postfix.cnt;++i)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c &quot;</span>,postfix.element[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num,cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> ans[<span class="number">10000</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d,&quot;</span>,&amp;num)!=EOF)&#123;</span><br><span class="line">        ans[++cnt]=num;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;cnt;++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(ans[i+<span class="number">1</span>]!=ans[cnt-i])&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;No\n&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Yes\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">child</span>[2];</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(struct Node *now,<span class="keyword">int</span> value)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> pos=now-&gt;value&lt;value;</span><br><span class="line">    <span class="keyword">if</span>(now-&gt;child[pos]==<span class="literal">NULL</span>)&#123;</span><br><span class="line">        now-&gt;child[pos]=(struct Node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct Node));</span><br><span class="line">        now-&gt;child[pos]-&gt;value=value;</span><br><span class="line">        now-&gt;child[pos]-&gt;child[<span class="number">0</span>]=now-&gt;child[pos]-&gt;child[<span class="number">1</span>]=<span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        insert(now-&gt;child[pos],value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">printByDepth</span><span class="params">(struct Node* now,<span class="keyword">int</span> nowDepth,<span class="keyword">int</span> depth)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(nowDepth==depth)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d,&quot;</span>,now-&gt;value);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">int</span> fla1=<span class="number">0</span>,fla2=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(now-&gt;child[<span class="number">0</span>]!=<span class="literal">NULL</span>)fla1=printByDepth(now-&gt;child[<span class="number">0</span>],nowDepth+<span class="number">1</span>,depth);</span><br><span class="line">        <span class="keyword">if</span>(now-&gt;child[<span class="number">1</span>]!=<span class="literal">NULL</span>)fla2=printByDepth(now-&gt;child[<span class="number">1</span>],nowDepth+<span class="number">1</span>,depth);</span><br><span class="line">        <span class="keyword">return</span> fla1||fla2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">destroy</span><span class="params">(struct Node* now)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(now-&gt;child[<span class="number">0</span>]!=<span class="literal">NULL</span>)destroy(now-&gt;child[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">if</span>(now-&gt;child[<span class="number">1</span>]!=<span class="literal">NULL</span>)destroy(now-&gt;child[<span class="number">1</span>]);</span><br><span class="line">    <span class="built_in">free</span>(now);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,depth;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">root</span>=</span>(struct Node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct Node));</span><br><span class="line">    root-&gt;child[<span class="number">0</span>]=root-&gt;child[<span class="number">1</span>]=<span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d,&quot;</span>,&amp;n,&amp;(root-&gt;value));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>,value;i&lt;n;++i)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d,&quot;</span>,&amp;value);</span><br><span class="line">        insert(root,value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;depth);</span><br><span class="line">    <span class="keyword">if</span>(!printByDepth(root,<span class="number">1</span>,depth))<span class="built_in">printf</span>(<span class="string">&quot;-1&quot;</span>);</span><br><span class="line">    destroy(root);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">child</span>[2];</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(struct Node *now,<span class="keyword">int</span> value)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> pos=now-&gt;value&lt;value;</span><br><span class="line">    <span class="keyword">if</span>(now-&gt;child[pos]==<span class="literal">NULL</span>)&#123;</span><br><span class="line">        now-&gt;child[pos]=(struct Node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct Node));</span><br><span class="line">        now-&gt;child[pos]-&gt;value=value;</span><br><span class="line">        now-&gt;child[pos]-&gt;child[<span class="number">0</span>]=now-&gt;child[pos]-&gt;child[<span class="number">1</span>]=<span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        insert(now-&gt;child[pos],value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">printByDepth</span><span class="params">(struct Node* now,<span class="keyword">int</span> nowDepth,<span class="keyword">int</span> depth)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(nowDepth==depth)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d,&quot;</span>,now-&gt;value);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">int</span> fla1=<span class="number">0</span>,fla2=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(now-&gt;child[<span class="number">0</span>]!=<span class="literal">NULL</span>)fla1=printByDepth(now-&gt;child[<span class="number">0</span>],nowDepth+<span class="number">1</span>,depth);</span><br><span class="line">        <span class="keyword">if</span>(now-&gt;child[<span class="number">1</span>]!=<span class="literal">NULL</span>)fla2=printByDepth(now-&gt;child[<span class="number">1</span>],nowDepth+<span class="number">1</span>,depth);</span><br><span class="line">        <span class="keyword">return</span> fla1||fla2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">destroy</span><span class="params">(struct Node* now)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(now-&gt;child[<span class="number">0</span>]!=<span class="literal">NULL</span>)destroy(now-&gt;child[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">if</span>(now-&gt;child[<span class="number">1</span>]!=<span class="literal">NULL</span>)destroy(now-&gt;child[<span class="number">1</span>]);</span><br><span class="line">    <span class="built_in">free</span>(now);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,depth;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">root</span>=</span>(struct Node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct Node));</span><br><span class="line">    root-&gt;child[<span class="number">0</span>]=root-&gt;child[<span class="number">1</span>]=<span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d,&quot;</span>,&amp;n,&amp;(root-&gt;value));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>,value;i&lt;n;++i)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d,&quot;</span>,&amp;value);</span><br><span class="line">        insert(root,value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;depth);</span><br><span class="line">    <span class="keyword">if</span>(!printByDepth(root,<span class="number">1</span>,depth))<span class="built_in">printf</span>(<span class="string">&quot;-1&quot;</span>);</span><br><span class="line">    destroy(root);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">child</span>[2];</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(struct Node *now,<span class="keyword">int</span> value)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> pos=now-&gt;value&lt;value;</span><br><span class="line">    <span class="keyword">if</span>(now-&gt;child[pos]==<span class="literal">NULL</span>)&#123;</span><br><span class="line">        now-&gt;child[pos]=(struct Node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct Node));</span><br><span class="line">        now-&gt;child[pos]-&gt;value=value;</span><br><span class="line">        now-&gt;child[pos]-&gt;child[<span class="number">0</span>]=now-&gt;child[pos]-&gt;child[<span class="number">1</span>]=<span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        insert(now-&gt;child[pos],value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">destroy</span><span class="params">(struct Node* now)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(now-&gt;child[<span class="number">0</span>]!=<span class="literal">NULL</span>)destroy(now-&gt;child[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">if</span>(now-&gt;child[<span class="number">1</span>]!=<span class="literal">NULL</span>)destroy(now-&gt;child[<span class="number">1</span>]);</span><br><span class="line">    <span class="built_in">free</span>(now);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preOrderTransverse</span><span class="params">(struct Node* now)</span></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d,&quot;</span>,now-&gt;value);</span><br><span class="line">    <span class="keyword">if</span>(now-&gt;child[<span class="number">0</span>]!=<span class="literal">NULL</span>)preOrderTransverse(now-&gt;child[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">if</span>(now-&gt;child[<span class="number">1</span>]!=<span class="literal">NULL</span>)preOrderTransverse(now-&gt;child[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">root</span>=</span>(struct Node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct Node));</span><br><span class="line">    root-&gt;child[<span class="number">0</span>]=root-&gt;child[<span class="number">1</span>]=<span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d,&quot;</span>,&amp;(root-&gt;value));</span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d,&quot;</span>,&amp;value)!=EOF)&#123;</span><br><span class="line">        insert(root,value);</span><br><span class="line">    &#125;</span><br><span class="line">    preOrderTransverse(root);</span><br><span class="line">    destroy(root);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">    <span class="keyword">int</span> height;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">child</span>[2];</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Height</span><span class="params">(struct Node* now)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> now==<span class="literal">NULL</span>?<span class="number">0</span>:now-&gt;height;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> a,<span class="keyword">const</span> <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a&gt;b?a:b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">freshHeight</span><span class="params">(struct Node* now)</span></span>&#123;</span><br><span class="line">    now-&gt;height=<span class="number">1</span>+max(Height(now-&gt;child[<span class="number">0</span>]),Height(now-&gt;child[<span class="number">1</span>]));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rotate</span><span class="params">(struct Node* parent,struct Node* now,<span class="keyword">int</span> pos,<span class="keyword">int</span> direction)</span></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">newroot</span>=</span>now-&gt;child[!direction];</span><br><span class="line">    <span class="keyword">if</span>(parent!=<span class="literal">NULL</span>)parent-&gt;child[pos]=newroot;</span><br><span class="line">    now-&gt;child[!direction]=newroot-&gt;child[direction];</span><br><span class="line">    newroot-&gt;child[direction]=now;</span><br><span class="line">    freshHeight(now);</span><br><span class="line">    freshHeight(newroot);</span><br><span class="line">    <span class="keyword">if</span>(parent!=<span class="literal">NULL</span>)freshHeight(parent);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">checkBalance</span><span class="params">(struct Node* now,<span class="keyword">int</span> *flag,<span class="keyword">int</span> *twice)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(Height(now-&gt;child[<span class="number">0</span>])-Height(now-&gt;child[<span class="number">1</span>])==<span class="number">2</span>)&#123;</span><br><span class="line">        *flag=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(Height(now-&gt;child[<span class="number">1</span>])-Height(now-&gt;child[<span class="number">0</span>])==<span class="number">2</span>)&#123;</span><br><span class="line">        *flag=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    *twice=Height(now-&gt;child[*flag]-&gt;child[*flag])&lt;Height(now-&gt;child[*flag]-&gt;child[!(*flag)]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reBalance</span><span class="params">(struct Node* parent,struct Node* now,<span class="keyword">int</span> pos)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> rotateflag,twiceflag,flag;</span><br><span class="line">    flag=checkBalance(now,&amp;rotateflag,&amp;twiceflag);</span><br><span class="line">    <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">        <span class="keyword">if</span>(twiceflag)rotate(now,now-&gt;child[rotateflag],rotateflag,rotateflag);</span><br><span class="line">        rotate(parent,now,pos,!rotateflag);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(struct Node *now,<span class="keyword">int</span> value)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> pos=now-&gt;value&lt;value;</span><br><span class="line">    <span class="keyword">if</span>(now-&gt;child[pos]==<span class="literal">NULL</span>)&#123;</span><br><span class="line">        now-&gt;child[pos]=(struct Node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct Node));</span><br><span class="line">        now-&gt;child[pos]-&gt;value=value;</span><br><span class="line">        now-&gt;child[pos]-&gt;child[<span class="number">0</span>]=now-&gt;child[pos]-&gt;child[<span class="number">1</span>]=<span class="literal">NULL</span>;</span><br><span class="line">        now-&gt;child[pos]-&gt;height=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        insert(now-&gt;child[pos],value);</span><br><span class="line">        reBalance(now,now-&gt;child[pos],pos);</span><br><span class="line">    &#125;</span><br><span class="line">    freshHeight(now);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">destroy</span><span class="params">(struct Node* now)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(now-&gt;child[<span class="number">0</span>]!=<span class="literal">NULL</span>)destroy(now-&gt;child[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">if</span>(now-&gt;child[<span class="number">1</span>]!=<span class="literal">NULL</span>)destroy(now-&gt;child[<span class="number">1</span>]);</span><br><span class="line">    <span class="built_in">free</span>(now);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preOrderTransverse</span><span class="params">(struct Node* now)</span></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d,&quot;</span>,now-&gt;value);</span><br><span class="line">    <span class="keyword">if</span>(now-&gt;child[<span class="number">0</span>]!=<span class="literal">NULL</span>)preOrderTransverse(now-&gt;child[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">if</span>(now-&gt;child[<span class="number">1</span>]!=<span class="literal">NULL</span>)preOrderTransverse(now-&gt;child[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">root</span>=</span>(struct Node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct Node));</span><br><span class="line">    root-&gt;child[<span class="number">0</span>]=root-&gt;child[<span class="number">1</span>]=<span class="literal">NULL</span>;</span><br><span class="line">    root-&gt;height=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d,&quot;</span>,&amp;(root-&gt;value));</span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d,&quot;</span>,&amp;value)!=EOF)&#123;</span><br><span class="line">        insert(root,value);</span><br><span class="line">    &#125;</span><br><span class="line">    preOrderTransverse(root);</span><br><span class="line">    destroy(root);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//这个代码其实有漏洞，请你理解后找出来</span></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://ajsoabk.xyz/2021/10/12/%E6%97%A5%E5%BF%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ajsoabk">
      <meta itemprop="description" content="我在我心的孤寂里，听见你的叹息了">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="归因">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/10/12/%E6%97%A5%E5%BF%97/" class="post-title-link" itemprop="url">随想</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-10-12 18:12:12" itemprop="dateCreated datePublished" datetime="2021-10-12T18:12:12+08:00">2021-10-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-10-29 23:26:04" itemprop="dateModified" datetime="2021-10-29T23:26:04+08:00">2021-10-29</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="十月October"><a href="#十月October" class="headerlink" title="十月October"></a>十月October</h1><p>之前有朋友问我算法问题，我才发现他已经慢慢学到kruskal了<br>kruskal本身不难，他之前也问了我很多语法问题，这似乎是第一次问算法相关<br>但是我却被他代码中浓浓的工程风格给小小震撼了一下，命名无可挑剔，封装恰到好处，简直不像是算法处女作<br>本来命名也就多费点精力的事，不能算多难，但我上大学后见到的99%的代码都严重缺乏这样的规范<br>更何况他是在尚未学完kruskal的前置知识的时候就主动去摸索算法流程，能够自己形成清晰的想法并非常准确地描述出来<br>尽管他的想法最终被我推翻，但也让我有了一些思考，更让我重新拾起高中信竞时期跟队友激情讨论算法过程的快感</p>
<p>…</p>
<h1 id="九月September"><a href="#九月September" class="headerlink" title="九月September"></a>九月September</h1><p>小小总结一波小学期小组的经历</p>
<p>一开始分组时脑中一片空白，不断跟学姐打探小学期的各种情况，当时学姐一句“你们这个小学期，除了要用文件读取就没啥啦”直接让我舒服了</p>
<p>后来选完航空售票系统的问题，我们果断组织开展组员大学习，组长与gfy同志亲自部署、亲自指挥，安排其余组员于菜鸟教程上进行C艹先进技术的学习，坚决落实组长(也就是我)的各项要求，并于两日内超额完成学习任务(指本来也没指望学会多少)</p>
<p>开始设计了个基于页面栈思想的main函数，把大系统分解成了一个个小页面，在structure里面确定页面间的关系逻辑，后面十几天这个框架就基本没啥改动了</p>
<p>框架出来后，很快啊，我立马给我嗷嗷待哺的组员喂养了一坨任务，收到任务的那一刻，每个人脸上都洋溢着喜悦，并表示自己还能再干更多！(资本家泪目)</p>
<p>在组员间游走的时光，是我这个小学期最为放松且满足的日子，所有的问题好像都不是问题，所有的bug都露出它温顺的一面，验收的日子看起来是那么遥远，实现自己的想法看起来是那么简单，出于一种对未知的挑战，gfy同学也在这段时间承担下了给用户发送邮箱验证码的任务</p>
<p>好景不长，命令行界面的页面布局始终困扰着我，无论怎么布局，用户的输入始终只能在固定的地点，代码也因为要检查用户输入而变得像老太太的裹脚布–又臭又长。失去了优美，代码还有什么意义！我的关于图形界面的想法蠢蠢欲动</p>
<p>星期六是跌宕的一天，这天组员们寻得了一片喘息的空间，我为了不妨碍原有框架，新建了一个airTicketSystemGUI文件夹，将我并不成熟的想法倾注其中，在此之前，我已然决定，若一个上午无法形成完整框架，就放弃这一全新的尝试</p>
<p>果然天不遂人愿，直到中午我都没有完成既定目标，页面要想转型成图形，块的概念是必不可少的，我急于借鉴HTML的设计理念，试图实现块中有块的效果，却在继承关系上栽了个大跟头</p>
<p>大跃进的失败已然固定，跟别人小小抱怨后，我迅速从airTicketSystemGUI文件夹中抽身，及时止损，不让不成功的转型过多影响原有项目进度</p>
<p>但心中不甘在所难免，一上午的摸索也让我学到了不少新知识，我决定将一部分图形功能加入原有界面，于是Button类诞生了</p>
<p>这个类承载了我上午未尽的想法，也丢弃了其中晦涩的指针部分(刚看完c++ primer的我实在庆幸这一决定，不然我一定会遇到带指针类拷贝时自动浅拷贝的问题)，我在实现欢迎界面的过程中逐步完善了这个类的其他函数以更方便地获取鼠标点击，与lcj一起完成了诸多必不可少的函数定义</p>
<p>这一步走得实在艰辛，那几天，游刃有余的感觉荡然无存，取而代之的是无尽的bug与错误信息，组员也因缺少任务而无法被充分调动，我在他们早上一起来就催我发布任务的那一刻觉得自己就像游戏里的npc，只是这个npc并没有固定的任务发布流程，他也暂时陷入了僵局</p>
<p>后来不知调掉了多少bug，百度了多少信息，终于在大约周日晚上的时候把原有进度中的所有页面全面升级成了支持鼠标点击的界面，而也大约在这时，gfy带着捷报回寝，他利用smtp协议和telnet协议成功完成了验证码发送功能，并在我的邮箱里成功尝试，我直呼好事成双，却不知我的噩梦才刚刚开始</p>
<p>程序中的bug解决了，团队的问题却逐渐浮现，由于时间过紧学的太快，奈何我拼命解释，那些刚学C艹的组员在理解我的代码上始终有点吃力，我只能退而求其次，自己承担起剩下页面的设计，将一些小巧轻便的函数分给组员去做</p>
<p>又在这时，新的问题出现，我发现上星期交给组员的各种函数的实现实在太不符合我的一贯码风，前期未确立代码规范的弊端也在此时显现，我花了较多时间改掉了其他人的代码，自然而然地用到了太多高级操作，也给读懂代码的门槛提高了不少，再次加大了组员的跟进难度，不过cyq同志热情不减，领下了忘记密码界面的全部设计工作</p>
<p>就在我给所有代码大换血后，还没等挨个测试，我就又迸出了改进Button类的想法，偏偏这个想法还很符合实际，我于是开始了框架的第二次大改</p>
<p>这次大改的代码量比第一次只多不少，不到两天的苦战，当我再次把代码push进我们的仓库时，git上显示page.cpp的一千多行代码改动了67%</p>
<p>第二次大改后，离项目验收已经只剩1天时间，bug多到找不完，也深到de不了，页面已完成设计，背后的逻辑却尚未跟上，我将所有花里胡哨的想法通通抛弃，把与用户的交互做了最大简化，顺便将cyq完成的忘记密码界面做了些许调整，规避了一切可能的出现在交互层的bug，让自己沉下心来修复满目疮痍的后端</p>
<p>中间一些小插曲更是让我有点崩溃，有没有人告诉我为什么这么多组用qt啊！！！还带数据库的那种！！！</p>
<p>幸好，后端所需技术仍然在我从高中遗留下来的知识范围内，模板的加入也让后端代码变得优美无比，接下来发动所有组员的bug调试工作也进行得很快，有时候后端一个bug的修复，能顺带着让前端的无数错误输出回到正轨，对代码模块化的追求终究没有白费，甚至在验收前的那一刻，我还往这个庞然大物里添加了一个重要功能</p>
<p>至此，在验收结束的星期五，这个一波三折的故事就此告一段落，我们的代码或许不是最好，但这段经历在我这里最为刻骨铭心</p>
<p>附带我们组的gitee仓库，已开源<br><a target="_blank" rel="noopener" href="https://gitee.com/Ajsoabk/primary-school-homework/tree/master">https://gitee.com/Ajsoabk/primary-school-homework/tree/master</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://ajsoabk.xyz/2021/09/29/%E6%AF%8F%E6%97%A5%E5%85%B3%E9%94%AE%E8%AF%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ajsoabk">
      <meta itemprop="description" content="我在我心的孤寂里，听见你的叹息了">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="归因">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/29/%E6%AF%8F%E6%97%A5%E5%85%B3%E9%94%AE%E8%AF%8D/" class="post-title-link" itemprop="url">每日关键词</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-09-29 17:52:35" itemprop="dateCreated datePublished" datetime="2021-09-29T17:52:35+08:00">2021-09-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-10-17 16:01:49" itemprop="dateModified" datetime="2021-10-17T16:01:49+08:00">2021-10-17</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="10-17（Block-Chain）"><a href="#10-17（Block-Chain）" class="headerlink" title="10.17（Block Chain）"></a>10.17（Block Chain）</h2><p>It’s worth to know the history of failure</p>
<h2 id="10-12（开源协议）"><a href="#10-12（开源协议）" class="headerlink" title="10.12（开源协议）"></a>10.12（开源协议）</h2><p>GNU GPL（GNU General Public License）协议，传播自由，可选收费</p>
<p>BSD（Berkeley Software Distribution）协议，允许销售，无需开源</p>
<p>Apache许可证协议 ，需要保留源代码的协议、商标、专利声明及其他原作者声明的内容信息</p>
<p>MIT（Massachusetts Institute of Technology）协议，只要保留原作者的许可信息，最宽松</p>
<p>GNU LGPL（GNU Lesser…），必须允许被引用</p>
<p><img src="..%5Cimage%5ClicenseTree.gif" alt="如何选择开源协议"></p>
<h2 id="10-2-以太坊、密码学"><a href="#10-2-以太坊、密码学" class="headerlink" title="10.2(以太坊、密码学)"></a>10.2(以太坊、密码学)</h2><p>哈希不可逆，可以防止量子计算机的破解</p>
<p>proof of work -&gt; proof of stack（权益证明）</p>
<p>Patricia tree/Patricia trie(压缩字典树）</p>
<p>Merkle Patricia tree</p>
<p>Modified MPT是以太坊运用的数据结构，甚至有可持久化？</p>
<p>RLP，极简的序列化方法</p>
<p>protobuf是一种序列化库</p>
<p>以太坊可以看成交易驱动的状态机</p>
<p>GHOST协议</p>
<p>叔叔节点祖宗六代</p>
<p>LiteCoin，基于Scrypt的mining puzzle，对轻节点不友好</p>
<p>以太坊的挖矿算法要求16M的cache和1G的DAG</p>
<p>AltCoin Infanticide</p>
<p>权益证明是闭环</p>
<p>nothing at stake（无利害关系）</p>
<p>Casper the Friendly Finality Gadget(FFG) </p>
<h2 id="10-1-区块链"><a href="#10-1-区块链" class="headerlink" title="10.1(区块链)"></a>10.1(区块链)</h2><p>序列到期可撤销合约（RSMC）解决了比特币单向流动问题</p>
<p>哈希时间锁定合约（HTLC）解决了比特币跨节点传递的问题</p>
<table>
<thead>
<tr>
<th>哈希地址</th>
<th>中文名</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>P2PKH</td>
<td>向公钥哈希支付</td>
<td>以1打头</td>
<td>只需要提供公钥和私钥签名</td>
<td></td>
</tr>
<tr>
<td>P2SH</td>
<td>向脚本哈希支付</td>
<td>以3打头</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/54955876">比特币的 P2SH 机制 - 知乎 (zhihu.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/33157713">比特币区块链（八） | 比特币中的脚本系统 - 知乎 (zhihu.com)</a></p>
<p>merkle proof 证明某个交易是否被写入区块</p>
<h2 id="9-29-区块链）"><a href="#9-29-区块链）" class="headerlink" title="9.29(区块链）"></a>9.29(区块链）</h2><p>ICO（Initial Coin Offering），首次代币募集</p>
<h2 id="9-27-信号与系统）"><a href="#9-27-信号与系统）" class="headerlink" title="9.27(信号与系统）"></a>9.27(信号与系统）</h2><p>记忆性 $$(h[n]=K\delta[n])$$</p>
<p>因果性 $$(h[n]=0\ when\ n&lt;0)$$</p>
<p>可逆性 </p>
<p>$$(for\ h[n],there\ exists\  h^{-1}[n]\ that\ satisfies\ h[n]*h^{-1}=\delta [n])$$</p>
<p>稳定性$(\Sigma h[n]&lt;+\infin)$</p>
<p>时不变性$(h_k[n]=h[n-k])$</p>
<p>可加性$(h[n]\cdot x_1[n]+h[n]\cdot x_2[n]=h[n]\cdot(x_1[n]+x_2[n]))$</p>
<p>比例性$(h[n]\cdot \alpha x[n]=\alpha h[n] \cdot x[n])$</p>
<h2 id="9-24-区块链）"><a href="#9-24-区块链）" class="headerlink" title="9.24(区块链）"></a>9.24(区块链）</h2><p>哈希指针</p>
<p>转账需给出签名过的转出者的公钥，并指向上一个交易以及币的来源</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://ajsoabk.xyz/2021/09/11/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80%E5%8F%8A%E5%85%B6%E5%8E%9F%E7%90%86%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ajsoabk">
      <meta itemprop="description" content="我在我心的孤寂里，听见你的叹息了">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="归因">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/11/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80%E5%8F%8A%E5%85%B6%E5%8E%9F%E7%90%86%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">程序设计语言及其原理笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-09-11 15:03:18" itemprop="dateCreated datePublished" datetime="2021-09-11T15:03:18+08:00">2021-09-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-10-12 18:09:38" itemprop="dateModified" datetime="2021-10-12T18:09:38+08:00">2021-10-12</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="程序设计语言原理"><a href="#程序设计语言原理" class="headerlink" title="程序设计语言原理"></a>程序设计语言原理</h2><p>语言在正交性与简单性间取舍</p>
<h4 id="抽象的概念"><a href="#抽象的概念" class="headerlink" title="抽象的概念"></a>抽象的概念</h4><p>过程抽象（如模板）与数据抽象（如STL）</p>
<h4 id="可靠性"><a href="#可靠性" class="headerlink" title="可靠性"></a>可靠性</h4><p>类型检测与异常处理</p>
<h4 id="语言的各方面直观指标"><a href="#语言的各方面直观指标" class="headerlink" title="语言的各方面直观指标"></a>语言的各方面直观指标</h4><ol>
<li>程序员的学习代价</li>
<li>程序员的编写代价</li>
<li>程序的编译时间（优化技术）</li>
<li>程序执行的速度</li>
<li>程序运行所需条件（硬件设备或软件系统）</li>
<li>程序的可靠性</li>
<li>程序维护代价</li>
</ol>
<h4 id="语言的类别"><a href="#语言的类别" class="headerlink" title="语言的类别"></a>语言的类别</h4><p>命令式，函数式，面向对象语言，可视化语言，标记语言，特殊用途语言</p>
<h4 id="冯诺依曼瓶颈"><a href="#冯诺依曼瓶颈" class="headerlink" title="冯诺依曼瓶颈"></a>冯诺依曼瓶颈</h4><p>指令从存储器到处理器的速度决定着这台计算机的速度</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://ajsoabk.xyz/2021/08/12/HelloWorld/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ajsoabk">
      <meta itemprop="description" content="我在我心的孤寂里，听见你的叹息了">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="归因">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/12/HelloWorld/" class="post-title-link" itemprop="url">HelloWorld</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-12 10:50:25" itemprop="dateCreated datePublished" datetime="2021-08-12T10:50:25+08:00">2021-08-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-09-11 15:02:30" itemprop="dateModified" datetime="2021-09-11T15:02:30+08:00">2021-09-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote><p>千里之行,始于足下</p>
<footer><strong>老子</strong></footer></blockquote>

<p>一直在思考如何将自己学习到的知识用最简单快捷的方式记录下来，不论是每日学习记录，每日胡思乱想，还是总结性的日记我都曾尝试过，但懒惰的我总是无法从一而终，我也一直在思考是否要将过去的记录中暂显不重要的部分给删去，却总是没有满意的答案，或许我的终极目标就是写一个既能以日期形式表现，也能以内容分类形式展现的博客平台</p>
<p>在此我决定，随想类型的文章永不删减，笔记类型的文章每周一删</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Ajsoabk</p>
  <div class="site-description" itemprop="description">我在我心的孤寂里，听见你的叹息了</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">8</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ajsoabk</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
